--- 
http_interactions: 
- request: 
    method: get
    uri: http://bogus/
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      accept: 
      - "*/*"
      user-agent: 
      - Ruby
  response: 
    status: 
      code: 303
      message: See Other
    headers: 
      location: 
      - http://guidetest.a.id.opendns.com/?url=bogus
      content-length: 
      - "0"
      connection: 
      - close
      date: 
      - Tue, 18 Jun 2013 01:10:53 GMT
      server: 
      - OpenDNS Guide
    body: 
      encoding: US-ASCII
      string: ""
    http_version: "1.0"
  recorded_at: Tue, 18 Jun 2013 01:10:53 GMT
- request: 
    method: get
    uri: http://guidetest.a.id.opendns.com/?url=bogus
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      accept: 
      - "*/*"
      user-agent: 
      - Ruby
  response: 
    status: 
      code: 302
      message: Found
    headers: 
      location: 
      - http://w10.guidetest.b.id.opendns.com/?url=bogus
      content-length: 
      - "0"
      connection: 
      - close
      date: 
      - Tue, 18 Jun 2013 01:10:53 GMT
      server: 
      - OpenDNS Guide
    body: 
      encoding: US-ASCII
      string: ""
    http_version: "1.0"
  recorded_at: Tue, 18 Jun 2013 01:10:53 GMT
- request: 
    method: get
    uri: http://w10.guidetest.b.id.opendns.com/?url=bogus
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      accept: 
      - "*/*"
      user-agent: 
      - Ruby
  response: 
    status: 
      code: 302
      message: Found
    headers: 
      location: 
      - http://w10.w10.guidetest.c.id.opendns.com/?url=bogus
      content-length: 
      - "0"
      connection: 
      - close
      date: 
      - Tue, 18 Jun 2013 01:10:54 GMT
      server: 
      - OpenDNS Guide
    body: 
      encoding: US-ASCII
      string: ""
    http_version: "1.0"
  recorded_at: Tue, 18 Jun 2013 01:10:54 GMT
- request: 
    method: get
    uri: http://w10.w10.guidetest.c.id.opendns.com/?url=bogus
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      accept: 
      - "*/*"
      user-agent: 
      - Ruby
  response: 
    status: 
      code: 302
      message: Found
    headers: 
      location: 
      - http://w10.w10.w10.guidetest.d.id.opendns.com/?url=bogus
      content-length: 
      - "0"
      connection: 
      - close
      date: 
      - Tue, 18 Jun 2013 01:10:54 GMT
      server: 
      - OpenDNS Guide
    body: 
      encoding: US-ASCII
      string: ""
    http_version: "1.0"
  recorded_at: Tue, 18 Jun 2013 01:10:54 GMT
- request: 
    method: get
    uri: http://w10.w10.w10.guidetest.d.id.opendns.com/?url=bogus
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      accept: 
      - "*/*"
      user-agent: 
      - Ruby
  response: 
    status: 
      code: 302
      message: Found
    headers: 
      location: 
      - http://w10.w10.w10.w10.guidetest.e.id.opendns.com/?url=bogus
      content-length: 
      - "0"
      connection: 
      - close
      date: 
      - Tue, 18 Jun 2013 01:10:54 GMT
      server: 
      - OpenDNS Guide
    body: 
      encoding: US-ASCII
      string: ""
    http_version: "1.0"
  recorded_at: Tue, 18 Jun 2013 01:10:54 GMT
- request: 
    method: get
    uri: http://w10.w10.w10.w10.guidetest.e.id.opendns.com/?url=bogus
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      accept: 
      - "*/*"
      user-agent: 
      - Ruby
  response: 
    status: 
      code: 302
      message: Found
    headers: 
      location: 
      - http://www.website-unavailable.com/?wc=EWJnHxd5BhNfBBd1GAoAHQ==&url=bogus
      set-cookie: 
      - webigin=EWJnHxd5BhNfBBd1GAoAHQ==; domain=.opendns.com; expires=Tue Jun 18 01:25:54 2013 GMT; Max-Age=900; path=/; httponly
      content-length: 
      - "0"
      connection: 
      - close
      date: 
      - Tue, 18 Jun 2013 01:10:54 GMT
      server: 
      - OpenDNS Guide
    body: 
      encoding: US-ASCII
      string: ""
    http_version: "1.0"
  recorded_at: Tue, 18 Jun 2013 01:10:54 GMT
- request: 
    method: get
    uri: http://www.website-unavailable.com/?wc=EWJnHxd5BhNfBBd1GAoAHQ==&url=bogus
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      accept: 
      - "*/*"
      user-agent: 
      - Ruby
  response: 
    status: 
      code: 200
      message: OK
    headers: 
      cache-control: 
      - no-cache, must-revalidate
      expires: 
      - Mon, 26 Jul 1997 05:00:00 GMT
      content-type: 
      - text/html; charset=utf-8
      pragma: 
      - no-cache
      set-cookie: 
      - OUS=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; path=/; domain=.opendns.com
      content-length: 
      - "5407"
      connection: 
      - close
      date: 
      - Tue, 18 Jun 2013 01:10:54 GMT
      server: 
      - OpenDNS Guide
    body: 
      encoding: US-ASCII
      string: |
        <html>
            <head>
                <title>  </title>
        
                <script type="text/javascript">
                    function bredir(a, b, c, d, e, ldr, ifc) {
                        var h, i, j;
                        var f = 0;
                        var g = 0;
                        var k = false;
                        var l = false;
                        var m = [
                            [300, 250, false],
                            [250, 250, false],
                            [240, 400, false],
                            [336, 280, false],
                            [180, 150, false],
                            [468, 60, false],
                            [234, 60, false],
                            [88, 31, false],
                            [120, 90, false],
                            [120, 60, false],
                            [120, 240, false],
                            [125, 125, false],
                            [728, 90, false],
                            [160, 600, false],
                            [120, 600, false],
                            [300, 600, false],
                            [300, 125, false],
                            [530, 300, false],
                            [190, 200, false],
                            [470, 250, false],
                            [720, 300, true],
                            [500, 350, true],
                            [550, 480, true],
                            //YouTube:
                            [560, 315, true],
                            [640, 360, true],
                            [853, 480, true],
                            [1280, 720, true],
                            //Vimeo:
                            [400, 300, true],
                            [500, 281, true],
                            //Hulu:
                            [480, 270, true],
                            [512, 288, true],
                            //metacafe:
                            [440, 248, true],
                            [460, 284, true],
                            [540, 304, true],
                            [600, 338, true],
                            //Other dimensions (metacafe, myspace video, yahoo video, break.com, ustream, vevo, justin.tv, etc):
                            [210, 120, true],
                            [400, 300, true],
                            [425, 350, true],
                            [425, 360, true],
                            [435, 251, true],
                            [435, 271, true],
                            [500, 300, true],
                            [525, 295, true],
                            [575, 324, true],
                            [620, 389, true],
                            [624, 351, true],
                            [630, 381, true],
                            [640, 385, true],
                            [650, 368, true],
                            [1000, 562, true],
                            [1000, 563, true],
                            [1000, 564, true]
                        ];
                        if (typeof window.innerHeight == "number") {
                            g = window.innerHeight;
                            f = window.innerWidth;
                        } else if (typeof document.body.offsetHeight == "number") {
                            g = document.body.offsetHeight;
                            f = document.body.offsetWidth;
                        }
                        for (var n = 0; n < m.length; n++) {
                            j = m[n];
                            h = Math.abs(f - j[0]);
                            i = Math.abs(g - j[1]);
                            if (top != self) {
                                ifc = 1;
                            } else {
                                ifc = 0;
                            };
                            if (h <= 2 && i <= 2) {
                                k = true;
                                l = j[2]
                            }
                        }
                        if(f === 0 && g === 0){
                            return;
                        }
                        if ((a != "www.facebook.com" && a != "platform.twitter.com") && (k || f < 100 && f !== 0 || g < 100 && g !== 0)) {
                            if (l && self == parent) {
                                return;
                            }
                            return "/b" + "anner.php?w=" + f + "&h=" + g + "&d=" + a + "&url=" + b + "&ref=" + c + "&view=" + d
                        } else if ((a == "www.facebook.com" || a == "platform.twitter.com") && (f >= 250 && g >= 60) && (k || f < 100 && f !== 0 || g < 100 && g !== 0)) {
                            if (l && self == parent) {
                                return;
                            }
                            return e + "&w=" + f + "&h=" + g + "&ldr=" + "b" + "&ifc=" + ifc;
                        } else if ((a == "www.facebook.com" || a == "platform.twitter.com") && (f < 250 || g < 60) && (k || f < 100 && f !== 0 || g < 100 && g !== 0)) {
                            if (l && self == parent) {
                                return;
                            }
                            return "/b" + "anner.php?w=" + f + "&h=" + g + "&d=" + a + "&url=" + b + "&ref=" + c + "&view=" + d;
                        } else {
                            return e + "&w=" + f + "&h=" + g + "&ifc=" + ifc;
                        }
                    }
                    function bdetect() {
                        var loc = bredir(
                            '', 
                            'bogus', 
                            '', 
                            'error', 
                            '/main?wc=EWJnHxd5BhNfBBd1GAoAHQ%3D%3D&url=bogus'
                        );
        
                        if(typeof loc === 'undefined') {
                            self.close();
                            return;
                        }
        
                        location.replace(loc);
        
                    }
                </script>
            </head>
            <body onLoad="bdetect()" style="margin: 0px;">
                <noscript>
                    <iframe frameborder="0" src="/main?wc=EWJnHxd5BhNfBBd1GAoAHQ%3D%3D&amp;url=bogus" width="100%" height="100%"></iframe>
                </noscript>
            </body>
        </html>

    http_version: "1.0"
  recorded_at: Tue, 18 Jun 2013 01:10:54 GMT
recorded_with: VCR 2.5.0

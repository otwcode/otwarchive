<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module ApplicationHelper - RDoc Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>app/helpers/application_helper.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">HtmlCleaner</span>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-allow_tinymce-3F">#allow_tinymce?</a>
    
    <li><a href="#method-i-allowed_css_instructions">#allowed_css_instructions</a>
    
    <li><a href="#method-i-allowed_html_instructions">#allowed_html_instructions</a>
    
    <li><a href="#method-i-autocomplete_options">#autocomplete_options</a>
    
    <li><a href="#method-i-byline">#byline</a>
    
    <li><a href="#method-i-check_all_none">#check_all_none</a>
    
    <li><a href="#method-i-checkbox_section">#checkbox_section</a>
    
    <li><a href="#method-i-checkbox_section_css_class">#checkbox_section_css_class</a>
    
    <li><a href="#method-i-checkbox_section_toggle">#checkbox_section_toggle</a>
    
    <li><a href="#method-i-classes_for_main">#classes_for_main</a>
    
    <li><a href="#method-i-expand_contract_all">#expand_contract_all</a>
    
    <li><a href="#method-i-expand_contract_shuffle">#expand_contract_shuffle</a>
    
    <li><a href="#method-i-field_attribute">#field_attribute</a>
    
    <li><a href="#method-i-field_id">#field_id</a>
    
    <li><a href="#method-i-field_name">#field_name</a>
    
    <li><a href="#method-i-field_with_unique_id">#field_with_unique_id</a>
    
    <li><a href="#method-i-flash_div">#flash_div</a>
    
    <li><a href="#method-i-generate_countdown_html">#generate_countdown_html</a>
    
    <li><a href="#method-i-link_to_add_section">#link_to_add_section</a>
    
    <li><a href="#method-i-link_to_help">#link_to_help</a>
    
    <li><a href="#method-i-link_to_remote">#link_to_remote</a>
    
    <li><a href="#method-i-link_to_remove_section">#link_to_remove_section</a>
    
    <li><a href="#method-i-link_to_rss">#link_to_rss</a>
    
    <li><a href="#method-i-locales_menu">#locales_menu</a>
    
    <li><a href="#method-i-mailto_link">#mailto_link</a>
    
    <li><a href="#method-i-name_to_id">#name_to_id</a>
    
    <li><a href="#method-i-nested_field_id">#nested_field_id</a>
    
    <li><a href="#method-i-nested_field_name">#nested_field_name</a>
    
    <li><a href="#method-i-non_anonymous_byline">#non_anonymous_byline</a>
    
    <li><a href="#method-i-non_anonymous_text_byline">#non_anonymous_text_byline</a>
    
    <li><a href="#method-i-params_without">#params_without</a>
    
    <li><a href="#method-i-pseud_link">#pseud_link</a>
    
    <li><a href="#method-i-pseud_text">#pseud_text</a>
    
    <li><a href="#method-i-sort_link">#sort_link</a>
    
    <li><a href="#method-i-span_if_current">#span_if_current</a>
    
    <li><a href="#method-i-submit_button">#submit_button</a>
    
    <li><a href="#method-i-submit_fieldset">#submit_fieldset</a>
    
    <li><a href="#method-i-text_byline">#text_byline</a>
    
    <li><a href="#method-i-time_in_zone">#time_in_zone</a>
    
    <li><a href="#method-i-use_tinymce">#use_tinymce</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./app/mailers/README.html">README</a>
  
    <li class="file"><a href="./app/views/epub/mimetype.html">mimetype</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Admin.html">Admin</a>
  
    <li><a href="./Admin/AdminInvitationsController.html">Admin::AdminInvitationsController</a>
  
    <li><a href="./Admin/AdminUsersController.html">Admin::AdminUsersController</a>
  
    <li><a href="./Admin/SettingsController.html">Admin::SettingsController</a>
  
    <li><a href="./Admin/SkinsController.html">Admin::SkinsController</a>
  
    <li><a href="./Admin/StatsController.html">Admin::StatsController</a>
  
    <li><a href="./Admin/UserCreationsController.html">Admin::UserCreationsController</a>
  
    <li><a href="./Static.html">Static</a>
  
    <li><a href="./Static/BaseController.html">Static::BaseController</a>
  
    <li><a href="./Static/CollectionsController.html">Static::CollectionsController</a>
  
    <li><a href="./Static/FandomsController.html">Static::FandomsController</a>
  
    <li><a href="./Static/MediaController.html">Static::MediaController</a>
  
    <li><a href="./Static/RestrictedWorksController.html">Static::RestrictedWorksController</a>
  
    <li><a href="./Static/WorksController.html">Static::WorksController</a>
  
    <li><a href="./Challenge.html">Challenge</a>
  
    <li><a href="./Challenge/GiftExchangeController.html">Challenge::GiftExchangeController</a>
  
    <li><a href="./Challenge/PromptMemeController.html">Challenge::PromptMemeController</a>
  
    <li><a href="./Opendoors.html">Opendoors</a>
  
    <li><a href="./Opendoors/ExternalAuthorsController.html">Opendoors::ExternalAuthorsController</a>
  
    <li><a href="./Opendoors/ToolsController.html">Opendoors::ToolsController</a>
  
    <li><a href="./StoryParser.html">StoryParser</a>
  
    <li><a href="./StoryParser/Error.html">StoryParser::Error</a>
  
    <li><a href="./AbuseReport.html">AbuseReport</a>
  
    <li><a href="./AbuseReportsController.html">AbuseReportsController</a>
  
    <li><a href="./AdminMailer.html">AdminMailer</a>
  
    <li><a href="./AdminPost.html">AdminPost</a>
  
    <li><a href="./AdminPostTag.html">AdminPostTag</a>
  
    <li><a href="./AdminPostTagging.html">AdminPostTagging</a>
  
    <li><a href="./AdminPostsController.html">AdminPostsController</a>
  
    <li><a href="./AdminSession.html">AdminSession</a>
  
    <li><a href="./AdminSessionsController.html">AdminSessionsController</a>
  
    <li><a href="./AdminSetting.html">AdminSetting</a>
  
    <li><a href="./AdminsController.html">AdminsController</a>
  
    <li><a href="./AdvancedSearchHelper.html">AdvancedSearchHelper</a>
  
    <li><a href="./AlphabetHelper.html">AlphabetHelper</a>
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./ArchiveFaq.html">ArchiveFaq</a>
  
    <li><a href="./ArchiveFaqsController.html">ArchiveFaqsController</a>
  
    <li><a href="./AutocompleteController.html">AutocompleteController</a>
  
    <li><a href="./Banned.html">Banned</a>
  
    <li><a href="./Bookmark.html">Bookmark</a>
  
    <li><a href="./BookmarksController.html">BookmarksController</a>
  
    <li><a href="./BookmarksHelper.html">BookmarksHelper</a>
  
    <li><a href="./CacheHelper.html">CacheHelper</a>
  
    <li><a href="./CastNomination.html">CastNomination</a>
  
    <li><a href="./Category.html">Category</a>
  
    <li><a href="./ChallengeAssignment.html">ChallengeAssignment</a>
  
    <li><a href="./ChallengeAssignmentsController.html">ChallengeAssignmentsController</a>
  
    <li><a href="./ChallengeClaim.html">ChallengeClaim</a>
  
    <li><a href="./ChallengeClaimsController.html">ChallengeClaimsController</a>
  
    <li><a href="./ChallengeHelper.html">ChallengeHelper</a>
  
    <li><a href="./ChallengeRequestsController.html">ChallengeRequestsController</a>
  
    <li><a href="./ChallengeSignup.html">ChallengeSignup</a>
  
    <li><a href="./ChallengeSignupObserver.html">ChallengeSignupObserver</a>
  
    <li><a href="./ChallengeSignupSweeper.html">ChallengeSignupSweeper</a>
  
    <li><a href="./ChallengeSignupsController.html">ChallengeSignupsController</a>
  
    <li><a href="./ChallengeSweeper.html">ChallengeSweeper</a>
  
    <li><a href="./ChallengesController.html">ChallengesController</a>
  
    <li><a href="./Chapter.html">Chapter</a>
  
    <li><a href="./ChapterSweeper.html">ChapterSweeper</a>
  
    <li><a href="./ChaptersController.html">ChaptersController</a>
  
    <li><a href="./ChaptersHelper.html">ChaptersHelper</a>
  
    <li><a href="./Character.html">Character</a>
  
    <li><a href="./CharacterNomination.html">CharacterNomination</a>
  
    <li><a href="./Collection.html">Collection</a>
  
    <li><a href="./CollectionItem.html">CollectionItem</a>
  
    <li><a href="./CollectionItemsController.html">CollectionItemsController</a>
  
    <li><a href="./CollectionObserver.html">CollectionObserver</a>
  
    <li><a href="./CollectionParticipant.html">CollectionParticipant</a>
  
    <li><a href="./CollectionParticipantsController.html">CollectionParticipantsController</a>
  
    <li><a href="./CollectionPreference.html">CollectionPreference</a>
  
    <li><a href="./CollectionProfile.html">CollectionProfile</a>
  
    <li><a href="./CollectionProfileController.html">CollectionProfileController</a>
  
    <li><a href="./CollectionSweeper.html">CollectionSweeper</a>
  
    <li><a href="./CollectionsController.html">CollectionsController</a>
  
    <li><a href="./CollectionsHelper.html">CollectionsHelper</a>
  
    <li><a href="./Comment.html">Comment</a>
  
    <li><a href="./CommentMailer.html">CommentMailer</a>
  
    <li><a href="./CommentObserver.html">CommentObserver</a>
  
    <li><a href="./CommentSweeper.html">CommentSweeper</a>
  
    <li><a href="./CommentsController.html">CommentsController</a>
  
    <li><a href="./CommentsHelper.html">CommentsHelper</a>
  
    <li><a href="./CommonTagging.html">CommonTagging</a>
  
    <li><a href="./CreationObserver.html">CreationObserver</a>
  
    <li><a href="./Creatorship.html">Creatorship</a>
  
    <li><a href="./DateHelper.html">DateHelper</a>
  
    <li><a href="./DevmodeController.html">DevmodeController</a>
  
    <li><a href="./DownloadsController.html">DownloadsController</a>
  
    <li><a href="./EmailVeracityValidator.html">EmailVeracityValidator</a>
  
    <li><a href="./ErrorsController.html">ErrorsController</a>
  
    <li><a href="./ExternalAuthor.html">ExternalAuthor</a>
  
    <li><a href="./ExternalAuthorName.html">ExternalAuthorName</a>
  
    <li><a href="./ExternalAuthorsController.html">ExternalAuthorsController</a>
  
    <li><a href="./ExternalAuthorsHelper.html">ExternalAuthorsHelper</a>
  
    <li><a href="./ExternalCreatorship.html">ExternalCreatorship</a>
  
    <li><a href="./ExternalWork.html">ExternalWork</a>
  
    <li><a href="./ExternalWorksController.html">ExternalWorksController</a>
  
    <li><a href="./Fandom.html">Fandom</a>
  
    <li><a href="./FandomNomination.html">FandomNomination</a>
  
    <li><a href="./FandomsController.html">FandomsController</a>
  
    <li><a href="./FeedSweeper.html">FeedSweeper</a>
  
    <li><a href="./Feedback.html">Feedback</a>
  
    <li><a href="./FeedbacksController.html">FeedbacksController</a>
  
    <li><a href="./FilterCount.html">FilterCount</a>
  
    <li><a href="./FilterTagging.html">FilterTagging</a>
  
    <li><a href="./Freeform.html">Freeform</a>
  
    <li><a href="./FreeformNomination.html">FreeformNomination</a>
  
    <li><a href="./Gift.html">Gift</a>
  
    <li><a href="./GiftExchange.html">GiftExchange</a>
  
    <li><a href="./GiftsController.html">GiftsController</a>
  
    <li><a href="./HitCounter.html">HitCounter</a>
  
    <li><a href="./HomeController.html">HomeController</a>
  
    <li><a href="./HomeHelper.html">HomeHelper</a>
  
    <li><a href="./InboxComment.html">InboxComment</a>
  
    <li><a href="./InboxController.html">InboxController</a>
  
    <li><a href="./InboxHelper.html">InboxHelper</a>
  
    <li><a href="./Invitation.html">Invitation</a>
  
    <li><a href="./InvitationsController.html">InvitationsController</a>
  
    <li><a href="./InvitationsHelper.html">InvitationsHelper</a>
  
    <li><a href="./InviteRequest.html">InviteRequest</a>
  
    <li><a href="./InviteRequestsController.html">InviteRequestsController</a>
  
    <li><a href="./KnownIssue.html">KnownIssue</a>
  
    <li><a href="./KnownIssuesController.html">KnownIssuesController</a>
  
    <li><a href="./Kudo.html">Kudo</a>
  
    <li><a href="./KudoMailer.html">KudoMailer</a>
  
    <li><a href="./KudoObserver.html">KudoObserver</a>
  
    <li><a href="./KudosController.html">KudosController</a>
  
    <li><a href="./KudosSweeper.html">KudosSweeper</a>
  
    <li><a href="./Language.html">Language</a>
  
    <li><a href="./LanguagesController.html">LanguagesController</a>
  
    <li><a href="./Locale.html">Locale</a>
  
    <li><a href="./LocalesController.html">LocalesController</a>
  
    <li><a href="./LogItem.html">LogItem</a>
  
    <li><a href="./Media.html">Media</a>
  
    <li><a href="./MediaController.html">MediaController</a>
  
    <li><a href="./MetaTagging.html">MetaTagging</a>
  
    <li><a href="./Object.html">Object</a>
  
    <li><a href="./Offer.html">Offer</a>
  
    <li><a href="./OrphansController.html">OrphansController</a>
  
    <li><a href="./OrphansHelper.html">OrphansHelper</a>
  
    <li><a href="./OwnedSetTagging.html">OwnedSetTagging</a>
  
    <li><a href="./OwnedTagSet.html">OwnedTagSet</a>
  
    <li><a href="./OwnedTagSetsController.html">OwnedTagSetsController</a>
  
    <li><a href="./PasswordsController.html">PasswordsController</a>
  
    <li><a href="./People.html">People</a>
  
    <li><a href="./PeopleController.html">PeopleController</a>
  
    <li><a href="./PotentialMatch.html">PotentialMatch</a>
  
    <li><a href="./PotentialMatchSettings.html">PotentialMatchSettings</a>
  
    <li><a href="./PotentialMatchesController.html">PotentialMatchesController</a>
  
    <li><a href="./PotentialPromptMatch.html">PotentialPromptMatch</a>
  
    <li><a href="./Preference.html">Preference</a>
  
    <li><a href="./PreferencesController.html">PreferencesController</a>
  
    <li><a href="./Profile.html">Profile</a>
  
    <li><a href="./ProfileController.html">ProfileController</a>
  
    <li><a href="./Prompt.html">Prompt</a>
  
    <li><a href="./PromptMeme.html">PromptMeme</a>
  
    <li><a href="./PromptRestriction.html">PromptRestriction</a>
  
    <li><a href="./PromptRestrictionsHelper.html">PromptRestrictionsHelper</a>
  
    <li><a href="./PromptsController.html">PromptsController</a>
  
    <li><a href="./Pseud.html">Pseud</a>
  
    <li><a href="./PseudSweeper.html">PseudSweeper</a>
  
    <li><a href="./PseudsController.html">PseudsController</a>
  
    <li><a href="./PseudsHelper.html">PseudsHelper</a>
  
    <li><a href="./Rating.html">Rating</a>
  
    <li><a href="./Reading.html">Reading</a>
  
    <li><a href="./ReadingsController.html">ReadingsController</a>
  
    <li><a href="./RedirectController.html">RedirectController</a>
  
    <li><a href="./RedisMailQueue.html">RedisMailQueue</a>
  
    <li><a href="./RelatedWork.html">RelatedWork</a>
  
    <li><a href="./RelatedWorksController.html">RelatedWorksController</a>
  
    <li><a href="./Relationship.html">Relationship</a>
  
    <li><a href="./RelationshipNomination.html">RelationshipNomination</a>
  
    <li><a href="./Request.html">Request</a>
  
    <li><a href="./Role.html">Role</a>
  
    <li><a href="./RolesUser.html">RolesUser</a>
  
    <li><a href="./SearchController.html">SearchController</a>
  
    <li><a href="./SearchHelper.html">SearchHelper</a>
  
    <li><a href="./SerialWork.html">SerialWork</a>
  
    <li><a href="./SerialWorksController.html">SerialWorksController</a>
  
    <li><a href="./Series.html">Series</a>
  
    <li><a href="./SeriesController.html">SeriesController</a>
  
    <li><a href="./SeriesHelper.html">SeriesHelper</a>
  
    <li><a href="./SetTagging.html">SetTagging</a>
  
    <li><a href="./Skin.html">Skin</a>
  
    <li><a href="./SkinParent.html">SkinParent</a>
  
    <li><a href="./SkinsController.html">SkinsController</a>
  
    <li><a href="./SkinsHelper.html">SkinsHelper</a>
  
    <li><a href="./StatCounter.html">StatCounter</a>
  
    <li><a href="./StaticSweeper.html">StaticSweeper</a>
  
    <li><a href="./StatsController.html">StatsController</a>
  
    <li><a href="./StatsHelper.html">StatsHelper</a>
  
    <li><a href="./Subscription.html">Subscription</a>
  
    <li><a href="./SubscriptionsController.html">SubscriptionsController</a>
  
    <li><a href="./Tag.html">Tag</a>
  
    <li><a href="./TagNomination.html">TagNomination</a>
  
    <li><a href="./TagNominationsController.html">TagNominationsController</a>
  
    <li><a href="./TagSet.html">TagSet</a>
  
    <li><a href="./TagSetAssociation.html">TagSetAssociation</a>
  
    <li><a href="./TagSetAssociationsController.html">TagSetAssociationsController</a>
  
    <li><a href="./TagSetNomination.html">TagSetNomination</a>
  
    <li><a href="./TagSetNominationsController.html">TagSetNominationsController</a>
  
    <li><a href="./TagSetOwnership.html">TagSetOwnership</a>
  
    <li><a href="./TagSetSweeper.html">TagSetSweeper</a>
  
    <li><a href="./TagSetsHelper.html">TagSetsHelper</a>
  
    <li><a href="./TagSweeper.html">TagSweeper</a>
  
    <li><a href="./TagWranglersController.html">TagWranglersController</a>
  
    <li><a href="./TagWranglingsController.html">TagWranglingsController</a>
  
    <li><a href="./Tagging.html">Tagging</a>
  
    <li><a href="./TagsController.html">TagsController</a>
  
    <li><a href="./TagsHelper.html">TagsHelper</a>
  
    <li><a href="./TranslationHelper.html">TranslationHelper</a>
  
    <li><a href="./TranslationNote.html">TranslationNote</a>
  
    <li><a href="./TranslationNotesController.html">TranslationNotesController</a>
  
    <li><a href="./TranslationsController.html">TranslationsController</a>
  
    <li><a href="./TranslatorsController.html">TranslatorsController</a>
  
    <li><a href="./UnsortedTag.html">UnsortedTag</a>
  
    <li><a href="./UnsortedTagsController.html">UnsortedTagsController</a>
  
    <li><a href="./UrlActiveValidator.html">UrlActiveValidator</a>
  
    <li><a href="./UrlFormatValidator.html">UrlFormatValidator</a>
  
    <li><a href="./User.html">User</a>
  
    <li><a href="./UserInviteRequest.html">UserInviteRequest</a>
  
    <li><a href="./UserInviteRequestsController.html">UserInviteRequestsController</a>
  
    <li><a href="./UserInviteRequestsHelper.html">UserInviteRequestsHelper</a>
  
    <li><a href="./UserMailer.html">UserMailer</a>
  
    <li><a href="./UserSession.html">UserSession</a>
  
    <li><a href="./UserSessionsController.html">UserSessionsController</a>
  
    <li><a href="./UsersController.html">UsersController</a>
  
    <li><a href="./UsersHelper.html">UsersHelper</a>
  
    <li><a href="./ValidationHelper.html">ValidationHelper</a>
  
    <li><a href="./Warning.html">Warning</a>
  
    <li><a href="./WeightedRandom.html">WeightedRandom</a>
  
    <li><a href="./Work.html">Work</a>
  
    <li><a href="./WorkLink.html">WorkLink</a>
  
    <li><a href="./WorkLinksController.html">WorkLinksController</a>
  
    <li><a href="./WorkObserver.html">WorkObserver</a>
  
    <li><a href="./WorkSkin.html">WorkSkin</a>
  
    <li><a href="./WorkSweeper.html">WorkSweeper</a>
  
    <li><a href="./WorksController.html">WorksController</a>
  
    <li><a href="./WorksHelper.html">WorksHelper</a>
  
    <li><a href="./WranglingAssignment.html">WranglingAssignment</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module ApplicationHelper</h1>

  <div id="description" class="description">
    
<p>Methods added to this helper will be available to all templates in the
application.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-allow_tinymce-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">allow_tinymce?</span><span
            class="method-args">(controller)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>check for pages that allow tiny_mce before loading the massive javascript</p>
          

          
          <div class="method-source-code" id="allow_tinymce-3F-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">allow_tinymce?</span>(<span class="ruby-identifier">controller</span>)
  <span class="ruby-node">%w(admin_posts archive_faqs known_issues chapters works)</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">controller</span>.<span class="ruby-identifier">controller_name</span>) <span class="ruby-operator">&amp;&amp;</span>
    <span class="ruby-node">%w(new create edit update)</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">controller</span>.<span class="ruby-identifier">action_name</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- allow_tinymce-3F-source -->
          
        </div>

        

        
      </div><!-- allow_tinymce-3F-method -->

    
      <div id="method-i-allowed_css_instructions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">allowed_css_instructions</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="allowed_css_instructions-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">allowed_css_instructions</span>
  <span class="ruby-identifier">h</span>(<span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Limited CSS properties and values allowed&quot;</span>)) <span class="ruby-operator">+</span> 
  <span class="ruby-identifier">link_to_help</span>(<span class="ruby-string">&quot;css-help&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- allowed_css_instructions-source -->
          
        </div>

        

        
      </div><!-- allowed_css_instructions-method -->

    
      <div id="method-i-allowed_html_instructions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">allowed_html_instructions</span><span
            class="method-args">(show_list = false, show_text=true)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>1: default shows just the link to help 2: show_text = true: shows “plain
text with limited html” and link to help 3 show_list = true: plain text and
limited html, link to help, list of allowed html</p>
          

          
          <div class="method-source-code" id="allowed_html_instructions-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">allowed_html_instructions</span>(<span class="ruby-identifier">show_list</span> = <span class="ruby-keyword">false</span>, <span class="ruby-identifier">show_text</span>=<span class="ruby-keyword">true</span>)
  (<span class="ruby-identifier">show_text</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">h</span>(<span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Plain text with limited html&quot;</span>)) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>.<span class="ruby-identifier">html_safe</span>) <span class="ruby-operator">+</span> 
  <span class="ruby-identifier">link_to_help</span>(<span class="ruby-string">&quot;html-help&quot;</span>) <span class="ruby-operator">+</span> (<span class="ruby-identifier">show_list</span> <span class="ruby-operator">?</span> 
  <span class="ruby-string">&quot;&lt;code&gt;a, abbr, acronym, address, [alt], [axis], b, big, blockquote, br, caption, center, cite, [class], code, 
    col, colgroup, dd, del, dfn, div, dl, dt, em, h1, h2, h3, h4, h5, h6, [height], hr, [href], i, img, 
    ins, kbd, li, [name], ol, p, pre, q, s, samp, small, span, [src], strike, strong, sub, sup, table, tbody, td, 
    tfoot, th, thead, [title], tr, tt, u, ul, var, [width]&lt;/code&gt;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;&quot;</span>).<span class="ruby-identifier">html_safe</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- allowed_html_instructions-source -->
          
        </div>

        

        
      </div><!-- allowed_html_instructions-method -->

    
      <div id="method-i-autocomplete_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">autocomplete_options</span><span
            class="method-args">(method, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>returns the default autocomplete attributes, all of which can be overridden
note: we do this and put the message defaults here so we can use
translation on them</p>
          

          
          <div class="method-source-code" id="autocomplete_options-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">autocomplete_options</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">options</span>={})
  {      
    <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;autocomplete&quot;</span>,
    <span class="ruby-value">:autocomplete_method</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">method</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_json</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;/autocomplete/#{method}&quot;</span>),
    <span class="ruby-value">:autocomplete_hint_text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Start typing for suggestions!&quot;</span>),
    <span class="ruby-value">:autocomplete_no_results_text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;(No suggestions found)&quot;</span>),
    <span class="ruby-value">:autocomplete_min_chars</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>,
    <span class="ruby-value">:autocomplete_searching_text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Searching...&quot;</span>)
  }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- autocomplete_options-source -->
          
        </div>

        

        
      </div><!-- autocomplete_options-method -->

    
      <div id="method-i-byline" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">byline</span><span
            class="method-args">(creation, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>modified by Enigel Dec 13 08 to use pseud byline rather than just pseud
name in order to disambiguate in the case of identical pseuds and on Feb 24
09 to sort alphabetically for great justice and show only the authors when
in preview_mode, unless they’re empty</p>
          

          
          <div class="method-source-code" id="byline-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 75</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">byline</span>(<span class="ruby-identifier">creation</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:anonymous?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">anonymous?</span>
    <span class="ruby-identifier">anon_byline</span> = <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Anonymous&quot;</span>)
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">logged_in_as_admin?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">is_author_of?</span>(<span class="ruby-identifier">creation</span>)) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-value">:visibility</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'public'</span>
      <span class="ruby-identifier">anon_byline</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot; [&quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">non_anonymous_byline</span>(<span class="ruby-identifier">creation</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;]&quot;</span>.<span class="ruby-identifier">html_safe</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">anon_byline</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">non_anonymous_byline</span>(<span class="ruby-identifier">creation</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- byline-source -->
          
        </div>

        

        
      </div><!-- byline-method -->

    
      <div id="method-i-check_all_none" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">check_all_none</span><span
            class="method-args">(all_text="All", none_text="None", name_filter=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="check_all_none-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 498</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">check_all_none</span>(<span class="ruby-identifier">all_text</span>=<span class="ruby-string">&quot;All&quot;</span>, <span class="ruby-identifier">none_text</span>=<span class="ruby-string">&quot;None&quot;</span>, <span class="ruby-identifier">name_filter</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">filter_attrib</span> = (<span class="ruby-identifier">name_filter</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot; checkbox_name_filter=\&quot;#{name_filter}\&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">''</span>)    
  (<span class="ruby-string">'&lt;ul class=&quot;actions&quot;&gt;
    &lt;li&gt;&lt;a href=&quot;#&quot; class=&quot;check_all&quot;'</span> <span class="ruby-operator">+</span> 
    <span class="ruby-node">&quot;#{filter_attrib}&gt;#{all_text}&lt;/a&gt;&lt;/li&gt;&quot;</span> <span class="ruby-operator">+</span>
    <span class="ruby-string">'&lt;li&gt;&lt;a href=&quot;#&quot; class=&quot;check_none&quot;'</span> <span class="ruby-operator">+</span> 
    <span class="ruby-node">&quot;#{filter_attrib}&gt;#{none_text}&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&quot;</span>).<span class="ruby-identifier">html_safe</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- check_all_none-source -->
          
        </div>

        

        
      </div><!-- check_all_none-method -->

    
      <div id="method-i-checkbox_section" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">checkbox_section</span><span
            class="method-args">(form, attribute, choices, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>FRONT END: is this and the toggle now formatted properly? (NB in the signup
form this is currently displaying to the left of the inline checkboxes) I
suspect this is a listbox</p>

<p>create a scrollable checkboxes section for a form that can be toggled
open/closed form: the form this is being created in attribute: the
attribute being set  choices: the array of options (which should be objects
of some sort) checked_method: a method that can be run on the object of the
form to get back a list</p>

<pre>of currently-set options</pre>

<p>name_method: a method that can be run on each individual option to get its
pretty name for labelling (typically just “name”) value_method: a value
that can be run to get the value of each individual option</p>

<p>See the prompt_form in challenge signups for example of usage</p>
          

          
          <div class="method-source-code" id="checkbox_section-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 419</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">checkbox_section</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">choices</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">options</span> = {
    <span class="ruby-value">:checked_method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, 
    <span class="ruby-value">:name_method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;name&quot;</span>, 
    <span class="ruby-value">:name_helper_method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-comment"># alternative: pass a helper method that gets passed the choice</span>
    <span class="ruby-value">:extra_info_method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-comment"># helper method that gets passed the choice, for any extra information that gets attached to the label</span>
    <span class="ruby-value">:value_method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;id&quot;</span>, 
    <span class="ruby-value">:disabled</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
    <span class="ruby-value">:include_toggle</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-value">:checkbox_side</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;left&quot;</span>,
    <span class="ruby-value">:include_blank</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
    <span class="ruby-value">:concise</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span> <span class="ruby-comment"># specify concise to invoke alternate formatting for skimmable lists (two-column in default layout)</span>
  }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
  
  <span class="ruby-identifier">field_name</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:field_name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">field_name</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">field_name</span> <span class="ruby-operator">+=</span> <span class="ruby-string">'[]'</span>
  <span class="ruby-identifier">base_id</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:field_id</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">field_id</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">checkboxes_id</span> = <span class="ruby-node">&quot;#{base_id}_checkboxes&quot;</span>
  <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:disabled</span>] <span class="ruby-operator">?</span> {<span class="ruby-value">:disabled</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;true&quot;</span>} <span class="ruby-operator">:</span> {}
  <span class="ruby-identifier">already_checked</span> = <span class="ruby-keyword">case</span> 
    <span class="ruby-keyword">when</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:checked_method</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
      <span class="ruby-identifier">options</span>[<span class="ruby-value">:checked_method</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:checked_method</span>].<span class="ruby-identifier">nil?</span>
      []
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">form</span>.<span class="ruby-identifier">object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:checked_method</span>]) <span class="ruby-operator">||</span> []
    <span class="ruby-keyword">end</span>
  
  <span class="ruby-identifier">checkboxes</span> = <span class="ruby-identifier">choices</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">choice</span><span class="ruby-operator">|</span>      
    <span class="ruby-identifier">is_checked</span> = <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-value">:checked_method</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">already_checked</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">false</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">already_checked</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">choice</span>)
    <span class="ruby-identifier">display_name</span> = <span class="ruby-keyword">case</span>
      <span class="ruby-keyword">when</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:name_helper_method</span>]
        <span class="ruby-identifier">eval</span>(<span class="ruby-node">&quot;#{options[:name_helper_method]}(choice)&quot;</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">choice</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:name_method</span>]).<span class="ruby-identifier">html_safe</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">value</span> = <span class="ruby-identifier">choice</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:value_method</span>])
    <span class="ruby-identifier">checkbox_id</span> = <span class="ruby-node">&quot;#{base_id}_#{name_to_id(value)}&quot;</span>
    <span class="ruby-identifier">checkbox</span> = <span class="ruby-identifier">check_box_tag</span>(<span class="ruby-identifier">field_name</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">is_checked</span>, <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>({<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">checkbox_id</span>}))
    <span class="ruby-identifier">checkbox_and_label</span> = <span class="ruby-identifier">label_tag</span> <span class="ruby-identifier">checkbox_id</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;action&quot;</span> <span class="ruby-keyword">do</span> 
      <span class="ruby-identifier">options</span>[<span class="ruby-value">:checkbox_side</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;left&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">checkbox</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">display_name</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">display_name</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">checkbox</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:extra_info_method</span>]
      <span class="ruby-identifier">checkbox_and_label</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:checkbox_side</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;left&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">checkbox_and_label</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">eval</span>(<span class="ruby-node">&quot;#{options[:extra_info_method]}(choice)&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">eval</span>(<span class="ruby-node">&quot;#{options[:extra_info_method]}(choice)&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">checkbox_and_label</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:li</span>, <span class="ruby-identifier">checkbox_and_label</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">cycle</span>(<span class="ruby-string">&quot;odd&quot;</span>, <span class="ruby-string">&quot;even&quot;</span>, <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;tigerstriping&quot;</span>))
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>).<span class="ruby-identifier">html_safe</span>
  <span class="ruby-identifier">checkboxes_ul</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:ul</span>, <span class="ruby-identifier">checkboxes</span>)

  <span class="ruby-comment"># reset the tiger striping</span>
  <span class="ruby-identifier">reset_cycle</span>(<span class="ruby-string">&quot;tigerstriping&quot;</span>)

  <span class="ruby-comment"># if there are only a few choices, don't show the scrolling and the toggle</span>
  <span class="ruby-identifier">size</span> = <span class="ruby-identifier">choices</span>.<span class="ruby-identifier">size</span>
  <span class="ruby-identifier">css_class</span> = <span class="ruby-identifier">checkbox_section_css_class</span>(<span class="ruby-identifier">size</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:concise</span>])
  <span class="ruby-identifier">top_toggle</span> = <span class="ruby-string">&quot;&quot;</span>.<span class="ruby-identifier">html_safe</span>
  <span class="ruby-identifier">bottom_toggle</span> = <span class="ruby-string">&quot;&quot;</span>.<span class="ruby-identifier">html_safe</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:include_toggle</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-value">:concise</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> (<span class="ruby-constant">ArchiveConfig</span>.<span class="ruby-constant">OPTIONS_TO_SHOW</span> * <span class="ruby-value">6</span>)
    <span class="ruby-identifier">top_toggle</span> = <span class="ruby-identifier">checkbox_section_toggle</span>(<span class="ruby-identifier">checkboxes_id</span>, <span class="ruby-identifier">size</span>)
    <span class="ruby-identifier">bottom_toggle</span> = <span class="ruby-identifier">checkbox_section_toggle</span>(<span class="ruby-identifier">checkboxes_id</span>, <span class="ruby-identifier">size</span>, <span class="ruby-value">:no_show</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:no_js</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">end</span>
    
  <span class="ruby-comment"># We wrap the whole thing in a div module with the classes</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:div</span>, <span class="ruby-identifier">top_toggle</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">checkboxes_ul</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">bottom_toggle</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">options</span>[<span class="ruby-value">:include_blank</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">hidden_field_tag</span>(<span class="ruby-identifier">field_name</span>, <span class="ruby-string">&quot; &quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>.<span class="ruby-identifier">html_safe</span>), <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">checkboxes_id</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">css_class</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- checkbox_section-source -->
          
        </div>

        

        
      </div><!-- checkbox_section-method -->

    
      <div id="method-i-checkbox_section_css_class" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">checkbox_section_css_class</span><span
            class="method-args">(size, concise=false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="checkbox_section_css_class-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 485</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">checkbox_section_css_class</span>(<span class="ruby-identifier">size</span>, <span class="ruby-identifier">concise</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">css_class</span> = <span class="ruby-string">&quot;options index&quot;</span>
  
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">concise</span>
    <span class="ruby-identifier">css_class</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot; concise lots&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">ArchiveConfig</span>.<span class="ruby-constant">OPTIONS_TO_SHOW</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">css_class</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot; many&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-constant">ArchiveConfig</span>.<span class="ruby-constant">OPTIONS_TO_SHOW</span>
    <span class="ruby-identifier">css_class</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot; lots&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> (<span class="ruby-constant">ArchiveConfig</span>.<span class="ruby-constant">OPTIONS_TO_SHOW</span> * <span class="ruby-value">6</span>)
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-identifier">css_class</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- checkbox_section_css_class-source -->
          
        </div>

        

        
      </div><!-- checkbox_section_css_class-method -->

    
      <div id="method-i-checkbox_section_toggle" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">checkbox_section_toggle</span><span
            class="method-args">(checkboxes_id, checkboxes_size, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>toggle an checkboxes (scrollable checkboxes) section of a form to show all
of the checkboxes</p>
          

          
          <div class="method-source-code" id="checkbox_section_toggle-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 375</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">checkbox_section_toggle</span>(<span class="ruby-identifier">checkboxes_id</span>, <span class="ruby-identifier">checkboxes_size</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">toggle_show</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:a</span>, <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Show all %{checkboxes_size} checkboxes&quot;</span>, <span class="ruby-value">:checkboxes_size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">checkboxes_size</span>), 
                            <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;toggle #{checkboxes_id}_show&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>.<span class="ruby-identifier">html_safe</span>

  <span class="ruby-identifier">toggle_hide</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:a</span>, <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Collapse checkboxes&quot;</span>), <span class="ruby-value">:style</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;display: none;&quot;</span>,
                            <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;toggle #{checkboxes_id}_hide&quot;</span>, <span class="ruby-value">:href</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;##{checkboxes_id}&quot;</span>) <span class="ruby-operator">+</span>
                            <span class="ruby-string">&quot;\n&quot;</span>.<span class="ruby-identifier">html_safe</span>
  
  <span class="ruby-identifier">css_class</span> = <span class="ruby-identifier">checkbox_section_css_class</span>(<span class="ruby-identifier">checkboxes_size</span>)
 
  <span class="ruby-identifier">javascript_bits</span> = <span class="ruby-identifier">content_for</span>(<span class="ruby-value">:footer_js</span>) {
    <span class="ruby-identifier">javascript_tag</span>(<span class="ruby-string">&quot;$j(document).ready(function(){\n&quot;</span> <span class="ruby-operator">+</span>
      <span class="ruby-node">&quot;$j('.#{checkboxes_id}_show').click(function() {\n&quot;</span> <span class="ruby-operator">+</span>
        <span class="ruby-node">&quot;$j('##{checkboxes_id}').attr('class', 'options index all');\n&quot;</span> <span class="ruby-operator">+</span> 
        <span class="ruby-node">&quot;$j('.#{checkboxes_id}_hide').show();\n&quot;</span> <span class="ruby-operator">+</span>
        <span class="ruby-node">&quot;$j('.#{checkboxes_id}_show').hide();\n&quot;</span> <span class="ruby-operator">+</span>
      <span class="ruby-string">&quot;});&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-operator">+</span> 
      <span class="ruby-node">&quot;$j('.#{checkboxes_id}_hide').click(function() {\n&quot;</span> <span class="ruby-operator">+</span>
        <span class="ruby-node">&quot;$j('##{checkboxes_id}').attr('class', '#{css_class}');\n&quot;</span> <span class="ruby-operator">+</span>
        <span class="ruby-node">&quot;$j('.#{checkboxes_id}_show').show();\n&quot;</span> <span class="ruby-operator">+</span>
        <span class="ruby-node">&quot;$j('.#{checkboxes_id}_hide').hide();\n&quot;</span> <span class="ruby-operator">+</span>
      <span class="ruby-string">&quot;});\n&quot;</span> <span class="ruby-operator">+</span>
    <span class="ruby-string">&quot;})&quot;</span>)
  }

  <span class="ruby-identifier">toggle</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:p</span>, 
    (<span class="ruby-identifier">options</span>[<span class="ruby-value">:no_show</span>] <span class="ruby-operator">?</span> <span class="ruby-string">&quot;&quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">toggle_show</span>) <span class="ruby-operator">+</span> 
    <span class="ruby-identifier">toggle_hide</span> <span class="ruby-operator">+</span> 
    (<span class="ruby-identifier">options</span>[<span class="ruby-value">:no_js</span>] <span class="ruby-operator">?</span> <span class="ruby-string">&quot;&quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">javascript_bits</span>), <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;actions&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- checkbox_section_toggle-source -->
          
        </div>

        

        
      </div><!-- checkbox_section_toggle-method -->

    
      <div id="method-i-classes_for_main" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">classes_for_main</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Generates class names for the main div in the application layout</p>
          

          
          <div class="method-source-code" id="classes_for_main-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 8</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">classes_for_main</span>
  <span class="ruby-identifier">class_names</span> = <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">controller_name</span> <span class="ruby-operator">+</span> <span class="ruby-string">'-'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">action_name</span>
  <span class="ruby-identifier">show_sidebar</span> = ((<span class="ruby-ivar">@user</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@admin_posts</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@collection</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">show_wrangling_dashboard</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@hide_dashboard</span>)
  <span class="ruby-identifier">class_names</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot; dashboard&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">show_sidebar</span>
    <span class="ruby-keyword">if</span> <span class="ruby-node">%w(abuse_reports feedbacks known_issues)</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">controller</span>.<span class="ruby-identifier">controller_name</span>)
      <span class="ruby-identifier">class_names</span> = <span class="ruby-string">&quot;system support &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">controller_name</span> <span class="ruby-operator">+</span> <span class="ruby-string">' '</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">action_name</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">controller_name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;archive_faqs&quot;</span>
      <span class="ruby-identifier">class_names</span> = <span class="ruby-string">&quot;system support faq &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">action_name</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">controller_name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;home&quot;</span>
      <span class="ruby-identifier">class_names</span> = <span class="ruby-string">&quot;system docs &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">action_name</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">class_names</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- classes_for_main-source -->
          
        </div>

        

        
      </div><!-- classes_for_main-method -->

    
      <div id="method-i-expand_contract_all" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expand_contract_all</span><span
            class="method-args">(target="index")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>expand/contracts all expand/contract targets inside its nearest parent with
the target class (usually index or listbox etc)</p>
          

          
          <div class="method-source-code" id="expand_contract_all-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 272</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expand_contract_all</span>(<span class="ruby-identifier">target</span>=<span class="ruby-string">&quot;index&quot;</span>)
  <span class="ruby-identifier">expand_all</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:a</span>, <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Expand All&quot;</span>), <span class="ruby-value">:href=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;#&quot;</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;expand_all&quot;</span>, <span class="ruby-string">&quot;target_class&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">target</span>, <span class="ruby-value">:role</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;button&quot;</span>)
  <span class="ruby-identifier">contract_all</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:a</span>, <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Contract All&quot;</span>), <span class="ruby-value">:href=</span><span class="ruby-operator">&gt;</span><span class="ruby-node">&quot;#&quot;</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;contract_all&quot;</span>, <span class="ruby-string">&quot;target_class&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">target</span>, <span class="ruby-value">:role</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;button&quot;</span>)
  <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:span</span>, <span class="ruby-identifier">expand_all</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">contract_all</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;actions hidden showme&quot;</span>, <span class="ruby-value">:role</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;menu&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- expand_contract_all-source -->
          
        </div>

        

        
      </div><!-- expand_contract_all-method -->

    
      <div id="method-i-expand_contract_shuffle" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">expand_contract_shuffle</span><span
            class="method-args">(list_id, shuffle=true)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Sets up expand/contract/shuffle buttons for any list whose id is passed in
See the jquery code in application.js Note that these start hidden because
if javascript is not available, we don’t want to show the user the buttons
at all.</p>
          

          
          <div class="method-source-code" id="expand_contract_shuffle-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expand_contract_shuffle</span>(<span class="ruby-identifier">list_id</span>, <span class="ruby-identifier">shuffle</span>=<span class="ruby-keyword">true</span>)
  (<span class="ruby-string">'&lt;span class=&quot;action expand hidden&quot; title=&quot;expand&quot; action_target=&quot;#'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">list_id</span> <span class="ruby-operator">+</span> <span class="ruby-string">'&quot;&gt;&lt;a href=&quot;#&quot; role=&quot;button&quot;&gt;&amp;#8595;&lt;/a&gt;&lt;/span&gt;
  &lt;span class=&quot;action contract hidden&quot; title=&quot;contract&quot; action_target=&quot;#'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">list_id</span> <span class="ruby-operator">+</span> <span class="ruby-string">'&quot;&gt;&lt;a href=&quot;#&quot; role=&quot;button&quot;&gt;&amp;#8593;&lt;/a&gt;&lt;/span&gt;'</span>).<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span>
  (<span class="ruby-identifier">shuffle</span> <span class="ruby-operator">?</span> (<span class="ruby-string">'&lt;span class=&quot;action shuffle hidden&quot; title=&quot;shuffle&quot; action_target=&quot;#'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">list_id</span> <span class="ruby-operator">+</span> <span class="ruby-string">'&quot;&gt;&lt;a href=&quot;#&quot; role=&quot;button&quot;&gt;&amp;#8646;&lt;/a&gt;&lt;/span&gt;'</span>) <span class="ruby-operator">:</span> <span class="ruby-string">''</span>).<span class="ruby-identifier">html_safe</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- expand_contract_shuffle-source -->
          
        </div>

        

        
      </div><!-- expand_contract_shuffle-method -->

    
      <div id="method-i-field_attribute" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">field_attribute</span><span
            class="method-args">(attribute)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>these two handy methods will take a form object (eg from form_for) and an
attribute (eg :title or ‘_destroy’) and generate the id or name that Rails
will output for that object</p>
          

          
          <div class="method-source-code" id="field_attribute-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 349</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">field_attribute</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">%r\?$/</span>,<span class="ruby-string">&quot;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- field_attribute-source -->
          
        </div>

        

        
      </div><!-- field_attribute-method -->

    
      <div id="method-i-field_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">field_id</span><span
            class="method-args">(form, attribute)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="field_id-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 357</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">field_id</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">name_to_id</span>(<span class="ruby-identifier">field_name</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">attribute</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- field_id-source -->
          
        </div>

        

        
      </div><!-- field_id-method -->

    
      <div id="method-i-field_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">field_name</span><span
            class="method-args">(form, attribute)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="field_name-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 361</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">field_name</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">attribute</span>)
  <span class="ruby-node">&quot;#{form.object_name}[#{field_attribute(attribute)}]&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- field_name-source -->
          
        </div>

        

        
      </div><!-- field_name-method -->

    
      <div id="method-i-field_with_unique_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">field_with_unique_id</span><span
            class="method-args">( form, field_type, object, field_name )</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This helper needs to be used in forms that may appear multiple times in the
same page (eg the comment form) since all the fields must have unique ids
see <a
href="http://stackoverflow.com/questions/2425690/multiple-remote-form-for-on-the-same-page-causes-duplicate-ids">stackoverflow.com/questions/2425690/multiple-remote-form-for-on-the-same-page-causes-duplicate-ids</a></p>
          

          
          <div class="method-source-code" id="field_with_unique_id-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">field_with_unique_id</span>( <span class="ruby-identifier">form</span>, <span class="ruby-identifier">field_type</span>, <span class="ruby-identifier">object</span>, <span class="ruby-identifier">field_name</span> )
    <span class="ruby-identifier">field_id</span> = <span class="ruby-node">&quot;#{object.class.name.downcase}_#{object.id.to_s}_#{field_name.to_s}&quot;</span>
    <span class="ruby-identifier">form</span>.<span class="ruby-identifier">send</span>( <span class="ruby-identifier">field_type</span>, <span class="ruby-identifier">field_name</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">field_id</span> )
<span class="ruby-keyword">end</span></pre>
          </div><!-- field_with_unique_id-source -->
          
        </div>

        

        
      </div><!-- field_with_unique_id-method -->

    
      <div id="method-i-flash_div" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">flash_div</span><span
            class="method-args">(*keys)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Inserts the flash alert messages for <a href="http://:key">flash</a>
wherever</p>

<pre>&lt;%= flash_div :key %&gt;</pre>

<p>is placed in the views. That is, if a controller or model sets</p>

<pre>flash[:error] = &quot;OMG ERRORZ AIE&quot;</pre>

<p>or</p>

<pre>flash.now[:error] = &quot;OMG ERRORZ AIE&quot;</pre>

<p>then that error will appear in the view where you have</p>

<pre>&lt;%= flash_div :error %&gt;</pre>

<p>The resulting HTML will look like this:</p>

<pre class="ruby"><span class="ruby-operator">&lt;</span><span class="ruby-identifier">div</span> <span class="ruby-keyword">class</span>=<span class="ruby-string">&quot;flash error&quot;</span><span class="ruby-operator">&gt;</span><span class="ruby-constant">OMG</span> <span class="ruby-constant">ERRORZ</span> <span class="ruby-constant">AIE</span><span class="ruby-operator">&lt;</span><span class="ruby-regexp">%rdiv&gt;
</span></pre>

<p>The CSS classes are specified in system-messages.css.</p>

<p>You can also have multiple possible flash alerts in a single location with:</p>

<pre>&lt;%= flash_div :error, :caution, :notice %&gt;</pre>

<p>(These are the three varieties currently defined.)</p>
          

          
          <div class="method-source-code" id="flash_div-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flash_div</span> *<span class="ruby-identifier">keys</span>
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> 
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">key</span>]
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
        <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:div</span>, <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:ul</span>, <span class="ruby-identifier">flash</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">flash_item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:li</span>, <span class="ruby-identifier">h</span>(<span class="ruby-identifier">flash_item</span>))}.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>).<span class="ruby-identifier">html_safe</span>), <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;flash #{key}&quot;</span>) 
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:div</span>, <span class="ruby-identifier">h</span>(<span class="ruby-identifier">flash</span>[<span class="ruby-identifier">key</span>]), <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;flash #{key}&quot;</span>) 
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  }.<span class="ruby-identifier">join</span>.<span class="ruby-identifier">html_safe</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- flash_div-source -->
          
        </div>

        

        
      </div><!-- flash_div-method -->

    
      <div id="method-i-generate_countdown_html" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">generate_countdown_html</span><span
            class="method-args">(field_id, max)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>see: <a
href="http://www.w3.org/TR/wai-aria/states_and_properties#aria-valuenow">www.w3.org/TR/wai-aria/states_and_properties#aria-valuenow</a></p>
          

          
          <div class="method-source-code" id="generate_countdown_html-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">generate_countdown_html</span>(<span class="ruby-identifier">field_id</span>, <span class="ruby-identifier">max</span>) 
  <span class="ruby-identifier">max</span> = <span class="ruby-identifier">max</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">span</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:span</span>, <span class="ruby-identifier">max</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{field_id}_counter&quot;</span>, <span class="ruby-string">&quot;data-maxlength&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max</span>, <span class="ruby-string">&quot;aria-live&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;polite&quot;</span>, <span class="ruby-string">&quot;aria-valuemax&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max</span>, <span class="ruby-string">&quot;aria-valuenow&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">field_id</span>)
  <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:p</span>, <span class="ruby-identifier">span</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">' characters left'</span>), <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;character_counter&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- generate_countdown_html-source -->
          
        </div>

        

        
      </div><!-- generate_countdown_html-method -->

    
      <div id="method-i-link_to_add_section" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link_to_add_section</span><span
            class="method-args">(linktext, form, nested_model_name, partial_to_render, locals = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>see <a
href="http://asciicasts.com/episodes/197-nested-model-form-part-2">asciicasts.com/episodes/197-nested-model-form-part-2</a></p>
          

          
          <div class="method-source-code" id="link_to_add_section-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 302</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_add_section</span>(<span class="ruby-identifier">linktext</span>, <span class="ruby-identifier">form</span>, <span class="ruby-identifier">nested_model_name</span>, <span class="ruby-identifier">partial_to_render</span>, <span class="ruby-identifier">locals</span> = {})
  <span class="ruby-identifier">new_nested_model</span> = <span class="ruby-identifier">form</span>.<span class="ruby-identifier">object</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">reflect_on_association</span>(<span class="ruby-identifier">nested_model_name</span>).<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">child_index</span> = <span class="ruby-node">&quot;new_#{nested_model_name}&quot;</span>
  <span class="ruby-identifier">rendered_partial_to_add</span> = 
    <span class="ruby-identifier">form</span>.<span class="ruby-identifier">fields_for</span>(<span class="ruby-identifier">nested_model_name</span>, <span class="ruby-identifier">new_nested_model</span>, <span class="ruby-value">:child_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">child_index</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">child_form</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">render</span>(<span class="ruby-value">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">partial_to_render</span>, <span class="ruby-value">:locals</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-value">:form</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">child_form</span>, <span class="ruby-value">:index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">child_index</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">locals</span>))
    }
  <span class="ruby-identifier">link_to_function</span>(<span class="ruby-identifier">linktext</span>, <span class="ruby-node">&quot;add_section(this, \&quot;#{nested_model_name}\&quot;, \&quot;#{escape_javascript(rendered_partial_to_add)}\&quot;)&quot;</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;hidden showme&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- link_to_add_section-source -->
          
        </div>

        

        
      </div><!-- link_to_add_section-method -->

    
      <div id="method-i-link_to_help" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link_to_help</span><span
            class="method-args">(help_entry, link = '<span class="symbol question"><span>?</span></span>'.html_safe)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Currently, help files are static. We may eventually want to make these
dynamic?</p>
          

          
          <div class="method-source-code" id="link_to_help-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 164</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_help</span>(<span class="ruby-identifier">help_entry</span>, <span class="ruby-identifier">link</span> = <span class="ruby-string">'&lt;span class=&quot;symbol question&quot;&gt;&lt;span&gt;?&lt;/span&gt;&lt;/span&gt;'</span>.<span class="ruby-identifier">html_safe</span>)
  <span class="ruby-identifier">help_file</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-comment">#if Locale.active &amp;&amp; Locale.active.language</span>
  <span class="ruby-comment">#  help_file = &quot;#{ArchiveConfig.HELP_DIRECTORY}/#{Locale.active.language.code}/#{help_entry}.html&quot;</span>
  <span class="ruby-comment">#end</span>
  
  <span class="ruby-keyword">unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">help_file</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-node">&quot;#{Rails.root}/public/#{help_file}&quot;</span>)
    <span class="ruby-identifier">help_file</span> = <span class="ruby-node">&quot;#{ArchiveConfig.HELP_DIRECTORY}/#{help_entry}.html&quot;</span>
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-string">&quot; &quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">link_to_ibox</span>(<span class="ruby-identifier">link</span>, <span class="ruby-value">:for</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">help_file</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">help_entry</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">'-'</span>).<span class="ruby-identifier">join</span>(<span class="ruby-string">' '</span>).<span class="ruby-identifier">capitalize</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;symbol question&quot;</span>).<span class="ruby-identifier">html_safe</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- link_to_help-source -->
          
        </div>

        

        
      </div><!-- link_to_help-method -->

    
      <div id="method-i-link_to_remote" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link_to_remote</span><span
            class="method-args">(name, options = {}, html_options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>A more gracefully degrading link_to_remote.</p>
          

          
          <div class="method-source-code" id="link_to_remote-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_remote</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {})
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-value">:href</span>]
    <span class="ruby-identifier">html_options</span>[<span class="ruby-value">:href</span>] = <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:url</span>])
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-identifier">link_to_function</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">remote_function</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">html_options</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- link_to_remote-source -->
          
        </div>

        

        
      </div><!-- link_to_remote-method -->

    
      <div id="method-i-link_to_remove_section" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link_to_remove_section</span><span
            class="method-args">(linktext, form, class_of_section_to_remove="removeme")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>see above</p>
          

          
          <div class="method-source-code" id="link_to_remove_section-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 313</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_remove_section</span>(<span class="ruby-identifier">linktext</span>, <span class="ruby-identifier">form</span>, <span class="ruby-identifier">class_of_section_to_remove</span>=<span class="ruby-string">&quot;removeme&quot;</span>)
  <span class="ruby-identifier">form</span>.<span class="ruby-identifier">hidden_field</span>(<span class="ruby-value">:_destroy</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\n&quot;</span> <span class="ruby-operator">+</span>
  <span class="ruby-identifier">link_to_function</span>(<span class="ruby-identifier">linktext</span>, <span class="ruby-node">&quot;remove_section(this, \&quot;#{class_of_section_to_remove}\&quot;)&quot;</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;hidden showme&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- link_to_remove_section-source -->
          
        </div>

        

        
      </div><!-- link_to_remove_section-method -->

    
      <div id="method-i-link_to_rss" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link_to_rss</span><span
            class="method-args">(link_to_feed)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="link_to_rss-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_rss</span>(<span class="ruby-identifier">link_to_feed</span>)
  <span class="ruby-identifier">link_to</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:span</span>, <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Subscribe to the feed&quot;</span>)), <span class="ruby-identifier">link_to_feed</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;subscribe to feed&quot;</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;rss&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- link_to_rss-source -->
          
        </div>

        

        
      </div><!-- link_to_rss-method -->

    
      <div id="method-i-locales_menu" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">locales_menu</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>For setting the current locale</p>
          

          
          <div class="method-source-code" id="locales_menu-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">locales_menu</span>    
  <span class="ruby-identifier">result</span> = <span class="ruby-string">&quot;&lt;form action=\&quot;&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'set'</span>, <span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'locales'</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;\&quot;&gt;\n&quot;</span> 
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&lt;div&gt;&lt;select id=\&quot;accessible_menu\&quot; name=\&quot;locale_id\&quot; &gt;\n&quot;</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">options_from_collection_for_select</span>(<span class="ruby-ivar">@loaded_locales</span>, <span class="ruby-value">:iso</span>, <span class="ruby-value">:name</span>, <span class="ruby-ivar">@current_locale</span>.<span class="ruby-identifier">iso</span>)
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&lt;/select&gt;&lt;/div&gt;&quot;</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&lt;noscript&gt;&lt;p&gt;&lt;input type=\&quot;submit\&quot; name=\&quot;commit\&quot; value=\&quot;Go\&quot; /&gt;&lt;/p&gt;&lt;/noscript&gt;&quot;</span>
  <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&lt;/form&gt;&quot;</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- locales_menu-source -->
          
        </div>

        

        
      </div><!-- locales_menu-method -->

    
      <div id="method-i-mailto_link" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">mailto_link</span><span
            class="method-args">(user, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="mailto_link-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">mailto_link</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-node">&quot;&lt;a href=\&quot;mailto:#{h(user.email)}?subject=[#{ArchiveConfig.APP_SHORT_NAME}]#{options[:subject]}\&quot; class=\&quot;mailto\&quot;&gt;
    &lt;img src=\&quot;/images/envelope_icon.gif\&quot; alt=\&quot;email #{h(user.login)}\&quot;&gt;
  &lt;/a&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- mailto_link-source -->
          
        </div>

        

        
      </div><!-- mailto_link-method -->

    
      <div id="method-i-name_to_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">name_to_id</span><span
            class="method-args">(name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="name_to_id-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name_to_id</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">%r\]\[|[^-a-zA-Z0-9:.]/</span>, <span class="ruby-string">&quot;_&quot;</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">%r_$/</span>, <span class="ruby-string">&quot;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- name_to_id-source -->
          
        </div>

        

        
      </div><!-- name_to_id-method -->

    
      <div id="method-i-nested_field_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nested_field_id</span><span
            class="method-args">(form, nested_object, attribute)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="nested_field_id-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 365</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">nested_field_id</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">nested_object</span>, <span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">name_to_id</span>(<span class="ruby-identifier">nested_field_name</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">nested_object</span>, <span class="ruby-identifier">attribute</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- nested_field_id-source -->
          
        </div>

        

        
      </div><!-- nested_field_id-method -->

    
      <div id="method-i-nested_field_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nested_field_name</span><span
            class="method-args">(form, nested_object, attribute)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="nested_field_name-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 369</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">nested_field_name</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">nested_object</span>, <span class="ruby-identifier">attribute</span>)
  <span class="ruby-node">&quot;#{form.object_name}[#{nested_object.class.table_name}_attributes][#{nested_object.id}][#{field_attribute(attribute)}]&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- nested_field_name-source -->
          
        </div>

        

        
      </div><!-- nested_field_name-method -->

    
      <div id="method-i-non_anonymous_byline" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">non_anonymous_byline</span><span
            class="method-args">(creation)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="non_anonymous_byline-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">non_anonymous_byline</span>(<span class="ruby-identifier">creation</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:author</span>)
    <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">author</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">pseuds</span> = []
    <span class="ruby-identifier">pseuds</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">authors</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">authors</span>
    <span class="ruby-identifier">pseuds</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">pseuds</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">pseuds</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-operator">!</span><span class="ruby-ivar">@preview_mode</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">authors</span>.<span class="ruby-identifier">blank?</span>)
    <span class="ruby-identifier">pseuds</span> = <span class="ruby-identifier">pseuds</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort</span>
  
    <span class="ruby-identifier">archivists</span> = {}
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Work</span>)
      <span class="ruby-identifier">external_creatorships</span> = <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">external_creatorships</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">ec</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">ec</span>.<span class="ruby-identifier">claimed?</span>}
      <span class="ruby-identifier">external_creatorships</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ec</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">archivist_pseud</span> = <span class="ruby-identifier">pseuds</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ec</span>.<span class="ruby-identifier">archivist</span>.<span class="ruby-identifier">pseuds</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">p</span>)}.<span class="ruby-identifier">first</span>
        <span class="ruby-identifier">archivists</span>[<span class="ruby-identifier">archivist_pseud</span>] = <span class="ruby-identifier">ec</span>.<span class="ruby-identifier">author_name</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  
    <span class="ruby-identifier">pseuds</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">pseud</span><span class="ruby-operator">|</span> 
      <span class="ruby-identifier">archivists</span>[<span class="ruby-identifier">pseud</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> 
          <span class="ruby-identifier">pseud_link</span>(<span class="ruby-identifier">pseud</span>) <span class="ruby-operator">:</span>
          <span class="ruby-identifier">archivists</span>[<span class="ruby-identifier">pseud</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot; [&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;archived by %{name}&quot;</span>, <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">pseud_link</span>(<span class="ruby-identifier">pseud</span>)) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;]&quot;</span>
    }.<span class="ruby-identifier">join</span>(<span class="ruby-string">', '</span>).<span class="ruby-identifier">html_safe</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- non_anonymous_byline-source -->
          
        </div>

        

        
      </div><!-- non_anonymous_byline-method -->

    
      <div id="method-i-non_anonymous_text_byline" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">non_anonymous_text_byline</span><span
            class="method-args">(creation)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="non_anonymous_text_byline-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 132</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">non_anonymous_text_byline</span>(<span class="ruby-identifier">creation</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:author</span>)
    <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">author</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">pseuds</span> = []
    <span class="ruby-identifier">pseuds</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">authors</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">authors</span>
    <span class="ruby-identifier">pseuds</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">pseuds</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">pseuds</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-operator">!</span><span class="ruby-ivar">@preview_mode</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">authors</span>.<span class="ruby-identifier">blank?</span>)
    <span class="ruby-identifier">pseuds</span> = <span class="ruby-identifier">pseuds</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort</span>
  
    <span class="ruby-identifier">archivists</span> = {}
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Work</span>)
      <span class="ruby-identifier">external_creatorships</span> = <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">external_creatorships</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">ec</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">ec</span>.<span class="ruby-identifier">claimed?</span>}
      <span class="ruby-identifier">external_creatorships</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ec</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">archivist_pseud</span> = <span class="ruby-identifier">pseuds</span>.<span class="ruby-identifier">select</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ec</span>.<span class="ruby-identifier">archivist</span>.<span class="ruby-identifier">pseuds</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">p</span>)}.<span class="ruby-identifier">first</span>
        <span class="ruby-identifier">archivists</span>[<span class="ruby-identifier">archivist_pseud</span>] = <span class="ruby-identifier">ec</span>.<span class="ruby-identifier">external_author_name</span>.<span class="ruby-identifier">name</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  
    <span class="ruby-identifier">pseuds</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">pseud</span><span class="ruby-operator">|</span> 
      <span class="ruby-identifier">archivists</span>[<span class="ruby-identifier">pseud</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> 
          <span class="ruby-identifier">pseud_text</span>(<span class="ruby-identifier">pseud</span>) <span class="ruby-operator">:</span>
          <span class="ruby-identifier">archivists</span>[<span class="ruby-identifier">pseud</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;[archived by&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">pseud_text</span>(<span class="ruby-identifier">pseud</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;]&quot;</span>
    }.<span class="ruby-identifier">join</span>(<span class="ruby-string">', '</span>).<span class="ruby-identifier">html_safe</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- non_anonymous_text_byline-source -->
          
        </div>

        

        
      </div><!-- non_anonymous_text_byline-method -->

    
      <div id="method-i-params_without" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">params_without</span><span
            class="method-args">(name)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="params_without-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 260</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">params_without</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">params</span>.<span class="ruby-identifier">reject</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">name</span>}
<span class="ruby-keyword">end</span></pre>
          </div><!-- params_without-source -->
          
        </div>

        

        
      </div><!-- params_without-method -->

    
      <div id="method-i-pseud_link" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pseud_link</span><span
            class="method-args">(pseud)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="pseud_link-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 112</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pseud_link</span>(<span class="ruby-identifier">pseud</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@downloading</span>
    <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">pseud</span>.<span class="ruby-identifier">byline</span>, <span class="ruby-identifier">user_pseud_path</span>(<span class="ruby-identifier">pseud</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">pseud</span>, <span class="ruby-value">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>), <span class="ruby-value">:rel</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;author&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">pseud</span>.<span class="ruby-identifier">byline</span>, <span class="ruby-identifier">user_pseud_path</span>(<span class="ruby-identifier">pseud</span>.<span class="ruby-identifier">user</span>, <span class="ruby-identifier">pseud</span>), <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;login author&quot;</span>, <span class="ruby-value">:rel</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;author&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- pseud_link-source -->
          
        </div>

        

        
      </div><!-- pseud_link-method -->

    
      <div id="method-i-pseud_text" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pseud_text</span><span
            class="method-args">(pseud)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="pseud_text-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 158</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pseud_text</span>(<span class="ruby-identifier">pseud</span>)
    <span class="ruby-identifier">pseud</span>.<span class="ruby-identifier">byline</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- pseud_text-source -->
          
        </div>

        

        
      </div><!-- pseud_text-method -->

    
      <div id="method-i-sort_link" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sort_link</span><span
            class="method-args">(title, column=nil, options = {})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Generates sorting links for index pages, with column names and directions</p>
          

          
          <div class="method-source-code" id="sort_link-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 220</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sort_link</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">column</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">condition</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:unless</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:unless</span>)

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">current_column</span> = (<span class="ruby-identifier">params</span>[<span class="ruby-value">:sort_column</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">to_s</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:sort_column</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:sort_default</span>]
    <span class="ruby-identifier">css_class</span> = <span class="ruby-identifier">current_column</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;current&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">current_column</span> <span class="ruby-comment"># explicitly or implicitly doing the existing sorting, so we need to toggle</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:sort_direction</span>]
        <span class="ruby-identifier">direction</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:sort_direction</span>].<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> <span class="ruby-operator">==</span> <span class="ruby-string">'ASC'</span> <span class="ruby-operator">?</span> <span class="ruby-string">'DESC'</span> <span class="ruby-operator">:</span> <span class="ruby-string">'ASC'</span>
      <span class="ruby-keyword">else</span> 
        <span class="ruby-identifier">direction</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:desc_default</span>] <span class="ruby-operator">?</span> <span class="ruby-string">'ASC'</span> <span class="ruby-operator">:</span> <span class="ruby-string">'DESC'</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">direction</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:desc_default</span>] <span class="ruby-operator">?</span> <span class="ruby-string">'DESC'</span> <span class="ruby-operator">:</span> <span class="ruby-string">'ASC'</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">link_to_unless</span> <span class="ruby-identifier">condition</span>, ((<span class="ruby-identifier">direction</span> <span class="ruby-operator">==</span> <span class="ruby-string">'ASC'</span> <span class="ruby-operator">?</span> <span class="ruby-string">'&amp;#8593;&amp;#160;'</span> <span class="ruby-operator">:</span> <span class="ruby-string">'&amp;#8595;&amp;#160;'</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">title</span>).<span class="ruby-identifier">html_safe</span>, 
        <span class="ruby-identifier">request</span>.<span class="ruby-identifier">parameters</span>.<span class="ruby-identifier">merge</span>( {<span class="ruby-value">:sort_column</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">column</span>, <span class="ruby-value">:sort_direction</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">direction</span>} ), {<span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">css_class</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">direction</span> <span class="ruby-operator">==</span> <span class="ruby-string">'ASC'</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">'sort up'</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">'sort down'</span>))}
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">link_to_unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:sort_column</span>].<span class="ruby-identifier">nil?</span>, <span class="ruby-identifier">title</span>, <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">params</span>.<span class="ruby-identifier">merge</span> <span class="ruby-value">:sort_column</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-value">:sort_direction</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sort_link-source -->
          
        </div>

        

        
      </div><!-- sort_link-method -->

    
      <div id="method-i-span_if_current" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">span_if_current</span><span
            class="method-args">(link_to_default_text, path, condition=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>This is used to make the current page we’re on (determined by the path or
by the specified condition) is a span with class “current”</p>
          

          
          <div class="method-source-code" id="span_if_current-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 34</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">span_if_current</span>(<span class="ruby-identifier">link_to_default_text</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">condition</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">is_current</span> = <span class="ruby-identifier">condition</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-identifier">path</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">condition</span>
  <span class="ruby-identifier">text</span> = <span class="ruby-identifier">ts</span>(<span class="ruby-identifier">link_to_default_text</span>)
  <span class="ruby-identifier">is_current</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;&lt;span class=\&quot;current\&quot;&gt;#{text}&lt;/span&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">path</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- span_if_current-source -->
          
        </div>

        

        
      </div><!-- span_if_current-method -->

    
      <div id="method-i-submit_button" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">submit_button</span><span
            class="method-args">(form=nil, button_text=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="submit_button-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 507</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">submit_button</span>(<span class="ruby-identifier">form</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">button_text</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">button_text</span> <span class="ruby-operator">||=</span> (<span class="ruby-identifier">form</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">form</span>.<span class="ruby-identifier">object</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">form</span>.<span class="ruby-identifier">object</span>.<span class="ruby-identifier">new_record?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Submit&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Update&quot;</span>)
  <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:p</span>, (<span class="ruby-identifier">form</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">submit_tag</span>(<span class="ruby-identifier">button_text</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">form</span>.<span class="ruby-identifier">submit</span>(<span class="ruby-identifier">button_text</span>)), <span class="ruby-value">:class</span>=<span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;submit&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- submit_button-source -->
          
        </div>

        

        
      </div><!-- submit_button-method -->

    
      <div id="method-i-submit_fieldset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">submit_fieldset</span><span
            class="method-args">(form=nil, button_text=nil)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="submit_fieldset-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 512</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">submit_fieldset</span>(<span class="ruby-identifier">form</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">button_text</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:fieldset</span>, <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:legend</span>, <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Actions&quot;</span>)) <span class="ruby-operator">+</span> <span class="ruby-identifier">submit_button</span>(<span class="ruby-identifier">form</span>, <span class="ruby-identifier">button_text</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- submit_fieldset-source -->
          
        </div>

        

        
      </div><!-- submit_fieldset-method -->

    
      <div id="method-i-text_byline" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">text_byline</span><span
            class="method-args">(creation, options={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>A plain text version of the byline, for when we don’t want to deliver a
linkified version.</p>
          

          
          <div class="method-source-code" id="text_byline-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">text_byline</span>(<span class="ruby-identifier">creation</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:anonymous?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">anonymous?</span>
    <span class="ruby-identifier">anon_byline</span> = <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Anonymous&quot;</span>)
    <span class="ruby-keyword">if</span> (<span class="ruby-identifier">logged_in_as_admin?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">is_author_of?</span>(<span class="ruby-identifier">creation</span>)) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-value">:visibility</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'public'</span>
      <span class="ruby-identifier">anon_byline</span> <span class="ruby-operator">+=</span> <span class="ruby-string">&quot; [&quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">non_anonymous_byline</span>(<span class="ruby-identifier">creation</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;]&quot;</span>.<span class="ruby-identifier">html_safe</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">anon_byline</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">non_anonymous_text_byline</span>(<span class="ruby-identifier">creation</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- text_byline-source -->
          
        </div>

        

        
      </div><!-- text_byline-method -->

    
      <div id="method-i-time_in_zone" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">time_in_zone</span><span
            class="method-args">(time, zone=nil, user=User.current_user)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="time_in_zone-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 318</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">time_in_zone</span>(<span class="ruby-identifier">time</span>, <span class="ruby-identifier">zone</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">user</span>=<span class="ruby-constant">User</span>.<span class="ruby-identifier">current_user</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;(no time specified)&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">blank?</span>
  <span class="ruby-identifier">zone</span> = ((<span class="ruby-identifier">user</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">User</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">preference</span>.<span class="ruby-identifier">time_zone</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">preference</span>.<span class="ruby-identifier">time_zone</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">zone</span>.<span class="ruby-identifier">name</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">zone</span>
  <span class="ruby-identifier">time_in_zone</span> = <span class="ruby-identifier">time</span>.<span class="ruby-identifier">in_time_zone</span>(<span class="ruby-identifier">zone</span>)
  <span class="ruby-identifier">time_in_zone_string</span> = <span class="ruby-identifier">time_in_zone</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">'&lt;abbr class=&quot;day&quot; title=&quot;%A&quot;&gt;%a&lt;/abbr&gt; &lt;span class=&quot;date&quot;&gt;%d&lt;/span&gt; 
                                               &lt;abbr class=&quot;month&quot; title=&quot;%B&quot;&gt;%b&lt;/abbr&gt; &lt;span class=&quot;year&quot;&gt;%Y&lt;/span&gt; 
                                               &lt;span class=&quot;time&quot;&gt;%I:%M%p&lt;/span&gt;'</span>).<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span> 
                                        <span class="ruby-node">&quot; &lt;abbr class=\&quot;timezone\&quot; title=\&quot;#{zone}\&quot;&gt;#{time_in_zone.zone}&lt;/abbr&gt; &quot;</span>.<span class="ruby-identifier">html_safe</span>
  
  <span class="ruby-identifier">user_time_string</span> = <span class="ruby-string">&quot;&quot;</span>.<span class="ruby-identifier">html_safe</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">User</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">preference</span>.<span class="ruby-identifier">time_zone</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">preference</span>.<span class="ruby-identifier">time_zone</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">zone</span>
      <span class="ruby-identifier">user_time</span> = <span class="ruby-identifier">time</span>.<span class="ruby-identifier">in_time_zone</span>(<span class="ruby-identifier">user</span>.<span class="ruby-identifier">preference</span>.<span class="ruby-identifier">time_zone</span>)
      <span class="ruby-identifier">user_time_string</span> = <span class="ruby-string">&quot;(&quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">user_time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">'&lt;span class=&quot;time&quot;&gt;%I:%M%p&lt;/span&gt;'</span>).<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span>
        <span class="ruby-node">&quot; &lt;abbr class=\&quot;timezone\&quot; title=\&quot;#{user.preference.time_zone}\&quot;&gt;#{user_time.zone}&lt;/abbr&gt;)&quot;</span>.<span class="ruby-identifier">html_safe</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">user</span>.<span class="ruby-identifier">preference</span>.<span class="ruby-identifier">time_zone</span>
      <span class="ruby-identifier">user_time_string</span> = <span class="ruby-identifier">link_to</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;(set timezone)&quot;</span>), <span class="ruby-identifier">user_preferences_path</span>(<span class="ruby-identifier">user</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-identifier">time_in_zone_string</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">user_time_string</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- time_in_zone-source -->
          
        </div>

        

        
      </div><!-- time_in_zone-method -->

    
      <div id="method-i-use_tinymce" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">use_tinymce</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Allow use of tiny_mce WYSIWYG editor</p>
          

          
          <div class="method-source-code" id="use_tinymce-source">
            <pre><span class="ruby-comment"># File app/helpers/application_helper.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">use_tinymce</span>
  <span class="ruby-ivar">@content_for_tinymce</span> = <span class="ruby-string">&quot;&quot;</span> 
  <span class="ruby-identifier">content_for</span> <span class="ruby-value">:tinymce</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">javascript_include_tag</span> <span class="ruby-string">&quot;tiny_mce/tiny_mce&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@content_for_tinymce_init</span> = <span class="ruby-string">&quot;&quot;</span> 
  <span class="ruby-identifier">content_for</span> <span class="ruby-value">:tinymce_init</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">javascript_include_tag</span> <span class="ruby-string">&quot;mce_editor&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- use_tinymce-source -->
          
        </div>

        

        
      </div><!-- use_tinymce-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>


<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>module BookmarksHelper - RDoc Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>app/helpers/bookmarks_helper.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-bookmark_form_path">#bookmark_form_path</a>
    
    <li><a href="#method-i-bookmark_if_exists">#bookmark_if_exists</a>
    
    <li><a href="#method-i-bookmark_link">#bookmark_link</a>
    
    <li><a href="#method-i-get_bookmark_link_text">#get_bookmark_link_text</a>
    
    <li><a href="#method-i-get_new_bookmark_path">#get_new_bookmark_path</a>
    
    <li><a href="#method-i-get_symbol_for_bookmark">#get_symbol_for_bookmark</a>
    
    <li><a href="#method-i-link_to_bookmarkable_bookmarks">#link_to_bookmarkable_bookmarks</a>
    
    <li><a href="#method-i-link_to_tag_bookmarks">#link_to_tag_bookmarks</a>
    
    <li><a href="#method-i-link_to_user_bookmarkable_bookmarks">#link_to_user_bookmarkable_bookmarks</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./app/mailers/README.html">README</a>
  
    <li class="file"><a href="./app/views/epub/mimetype.html">mimetype</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Admin.html">Admin</a>
  
    <li><a href="./Admin/AdminInvitationsController.html">Admin::AdminInvitationsController</a>
  
    <li><a href="./Admin/AdminUsersController.html">Admin::AdminUsersController</a>
  
    <li><a href="./Admin/SettingsController.html">Admin::SettingsController</a>
  
    <li><a href="./Admin/SkinsController.html">Admin::SkinsController</a>
  
    <li><a href="./Admin/StatsController.html">Admin::StatsController</a>
  
    <li><a href="./Admin/UserCreationsController.html">Admin::UserCreationsController</a>
  
    <li><a href="./Static.html">Static</a>
  
    <li><a href="./Static/BaseController.html">Static::BaseController</a>
  
    <li><a href="./Static/CollectionsController.html">Static::CollectionsController</a>
  
    <li><a href="./Static/FandomsController.html">Static::FandomsController</a>
  
    <li><a href="./Static/MediaController.html">Static::MediaController</a>
  
    <li><a href="./Static/RestrictedWorksController.html">Static::RestrictedWorksController</a>
  
    <li><a href="./Static/WorksController.html">Static::WorksController</a>
  
    <li><a href="./Challenge.html">Challenge</a>
  
    <li><a href="./Challenge/GiftExchangeController.html">Challenge::GiftExchangeController</a>
  
    <li><a href="./Challenge/PromptMemeController.html">Challenge::PromptMemeController</a>
  
    <li><a href="./Opendoors.html">Opendoors</a>
  
    <li><a href="./Opendoors/ExternalAuthorsController.html">Opendoors::ExternalAuthorsController</a>
  
    <li><a href="./Opendoors/ToolsController.html">Opendoors::ToolsController</a>
  
    <li><a href="./StoryParser.html">StoryParser</a>
  
    <li><a href="./StoryParser/Error.html">StoryParser::Error</a>
  
    <li><a href="./AbuseReport.html">AbuseReport</a>
  
    <li><a href="./AbuseReportsController.html">AbuseReportsController</a>
  
    <li><a href="./AdminMailer.html">AdminMailer</a>
  
    <li><a href="./AdminPost.html">AdminPost</a>
  
    <li><a href="./AdminPostTag.html">AdminPostTag</a>
  
    <li><a href="./AdminPostTagging.html">AdminPostTagging</a>
  
    <li><a href="./AdminPostsController.html">AdminPostsController</a>
  
    <li><a href="./AdminSession.html">AdminSession</a>
  
    <li><a href="./AdminSessionsController.html">AdminSessionsController</a>
  
    <li><a href="./AdminSetting.html">AdminSetting</a>
  
    <li><a href="./AdminsController.html">AdminsController</a>
  
    <li><a href="./AdvancedSearchHelper.html">AdvancedSearchHelper</a>
  
    <li><a href="./AlphabetHelper.html">AlphabetHelper</a>
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./ArchiveFaq.html">ArchiveFaq</a>
  
    <li><a href="./ArchiveFaqsController.html">ArchiveFaqsController</a>
  
    <li><a href="./AutocompleteController.html">AutocompleteController</a>
  
    <li><a href="./Banned.html">Banned</a>
  
    <li><a href="./Bookmark.html">Bookmark</a>
  
    <li><a href="./BookmarksController.html">BookmarksController</a>
  
    <li><a href="./BookmarksHelper.html">BookmarksHelper</a>
  
    <li><a href="./CacheHelper.html">CacheHelper</a>
  
    <li><a href="./CastNomination.html">CastNomination</a>
  
    <li><a href="./Category.html">Category</a>
  
    <li><a href="./ChallengeAssignment.html">ChallengeAssignment</a>
  
    <li><a href="./ChallengeAssignmentsController.html">ChallengeAssignmentsController</a>
  
    <li><a href="./ChallengeClaim.html">ChallengeClaim</a>
  
    <li><a href="./ChallengeClaimsController.html">ChallengeClaimsController</a>
  
    <li><a href="./ChallengeHelper.html">ChallengeHelper</a>
  
    <li><a href="./ChallengeRequestsController.html">ChallengeRequestsController</a>
  
    <li><a href="./ChallengeSignup.html">ChallengeSignup</a>
  
    <li><a href="./ChallengeSignupObserver.html">ChallengeSignupObserver</a>
  
    <li><a href="./ChallengeSignupSweeper.html">ChallengeSignupSweeper</a>
  
    <li><a href="./ChallengeSignupsController.html">ChallengeSignupsController</a>
  
    <li><a href="./ChallengeSweeper.html">ChallengeSweeper</a>
  
    <li><a href="./ChallengesController.html">ChallengesController</a>
  
    <li><a href="./Chapter.html">Chapter</a>
  
    <li><a href="./ChapterSweeper.html">ChapterSweeper</a>
  
    <li><a href="./ChaptersController.html">ChaptersController</a>
  
    <li><a href="./ChaptersHelper.html">ChaptersHelper</a>
  
    <li><a href="./Character.html">Character</a>
  
    <li><a href="./CharacterNomination.html">CharacterNomination</a>
  
    <li><a href="./Collection.html">Collection</a>
  
    <li><a href="./CollectionItem.html">CollectionItem</a>
  
    <li><a href="./CollectionItemsController.html">CollectionItemsController</a>
  
    <li><a href="./CollectionObserver.html">CollectionObserver</a>
  
    <li><a href="./CollectionParticipant.html">CollectionParticipant</a>
  
    <li><a href="./CollectionParticipantsController.html">CollectionParticipantsController</a>
  
    <li><a href="./CollectionPreference.html">CollectionPreference</a>
  
    <li><a href="./CollectionProfile.html">CollectionProfile</a>
  
    <li><a href="./CollectionProfileController.html">CollectionProfileController</a>
  
    <li><a href="./CollectionSweeper.html">CollectionSweeper</a>
  
    <li><a href="./CollectionsController.html">CollectionsController</a>
  
    <li><a href="./CollectionsHelper.html">CollectionsHelper</a>
  
    <li><a href="./Comment.html">Comment</a>
  
    <li><a href="./CommentMailer.html">CommentMailer</a>
  
    <li><a href="./CommentObserver.html">CommentObserver</a>
  
    <li><a href="./CommentSweeper.html">CommentSweeper</a>
  
    <li><a href="./CommentsController.html">CommentsController</a>
  
    <li><a href="./CommentsHelper.html">CommentsHelper</a>
  
    <li><a href="./CommonTagging.html">CommonTagging</a>
  
    <li><a href="./CreationObserver.html">CreationObserver</a>
  
    <li><a href="./Creatorship.html">Creatorship</a>
  
    <li><a href="./DateHelper.html">DateHelper</a>
  
    <li><a href="./DevmodeController.html">DevmodeController</a>
  
    <li><a href="./DownloadsController.html">DownloadsController</a>
  
    <li><a href="./EmailVeracityValidator.html">EmailVeracityValidator</a>
  
    <li><a href="./ErrorsController.html">ErrorsController</a>
  
    <li><a href="./ExternalAuthor.html">ExternalAuthor</a>
  
    <li><a href="./ExternalAuthorName.html">ExternalAuthorName</a>
  
    <li><a href="./ExternalAuthorsController.html">ExternalAuthorsController</a>
  
    <li><a href="./ExternalAuthorsHelper.html">ExternalAuthorsHelper</a>
  
    <li><a href="./ExternalCreatorship.html">ExternalCreatorship</a>
  
    <li><a href="./ExternalWork.html">ExternalWork</a>
  
    <li><a href="./ExternalWorksController.html">ExternalWorksController</a>
  
    <li><a href="./Fandom.html">Fandom</a>
  
    <li><a href="./FandomNomination.html">FandomNomination</a>
  
    <li><a href="./FandomsController.html">FandomsController</a>
  
    <li><a href="./FeedSweeper.html">FeedSweeper</a>
  
    <li><a href="./Feedback.html">Feedback</a>
  
    <li><a href="./FeedbacksController.html">FeedbacksController</a>
  
    <li><a href="./FilterCount.html">FilterCount</a>
  
    <li><a href="./FilterTagging.html">FilterTagging</a>
  
    <li><a href="./Freeform.html">Freeform</a>
  
    <li><a href="./FreeformNomination.html">FreeformNomination</a>
  
    <li><a href="./Gift.html">Gift</a>
  
    <li><a href="./GiftExchange.html">GiftExchange</a>
  
    <li><a href="./GiftsController.html">GiftsController</a>
  
    <li><a href="./HitCounter.html">HitCounter</a>
  
    <li><a href="./HomeController.html">HomeController</a>
  
    <li><a href="./HomeHelper.html">HomeHelper</a>
  
    <li><a href="./InboxComment.html">InboxComment</a>
  
    <li><a href="./InboxController.html">InboxController</a>
  
    <li><a href="./InboxHelper.html">InboxHelper</a>
  
    <li><a href="./Invitation.html">Invitation</a>
  
    <li><a href="./InvitationsController.html">InvitationsController</a>
  
    <li><a href="./InvitationsHelper.html">InvitationsHelper</a>
  
    <li><a href="./InviteRequest.html">InviteRequest</a>
  
    <li><a href="./InviteRequestsController.html">InviteRequestsController</a>
  
    <li><a href="./KnownIssue.html">KnownIssue</a>
  
    <li><a href="./KnownIssuesController.html">KnownIssuesController</a>
  
    <li><a href="./Kudo.html">Kudo</a>
  
    <li><a href="./KudoMailer.html">KudoMailer</a>
  
    <li><a href="./KudoObserver.html">KudoObserver</a>
  
    <li><a href="./KudosController.html">KudosController</a>
  
    <li><a href="./KudosSweeper.html">KudosSweeper</a>
  
    <li><a href="./Language.html">Language</a>
  
    <li><a href="./LanguagesController.html">LanguagesController</a>
  
    <li><a href="./Locale.html">Locale</a>
  
    <li><a href="./LocalesController.html">LocalesController</a>
  
    <li><a href="./LogItem.html">LogItem</a>
  
    <li><a href="./Media.html">Media</a>
  
    <li><a href="./MediaController.html">MediaController</a>
  
    <li><a href="./MetaTagging.html">MetaTagging</a>
  
    <li><a href="./Object.html">Object</a>
  
    <li><a href="./Offer.html">Offer</a>
  
    <li><a href="./OrphansController.html">OrphansController</a>
  
    <li><a href="./OrphansHelper.html">OrphansHelper</a>
  
    <li><a href="./OwnedSetTagging.html">OwnedSetTagging</a>
  
    <li><a href="./OwnedTagSet.html">OwnedTagSet</a>
  
    <li><a href="./OwnedTagSetsController.html">OwnedTagSetsController</a>
  
    <li><a href="./PasswordsController.html">PasswordsController</a>
  
    <li><a href="./People.html">People</a>
  
    <li><a href="./PeopleController.html">PeopleController</a>
  
    <li><a href="./PotentialMatch.html">PotentialMatch</a>
  
    <li><a href="./PotentialMatchSettings.html">PotentialMatchSettings</a>
  
    <li><a href="./PotentialMatchesController.html">PotentialMatchesController</a>
  
    <li><a href="./PotentialPromptMatch.html">PotentialPromptMatch</a>
  
    <li><a href="./Preference.html">Preference</a>
  
    <li><a href="./PreferencesController.html">PreferencesController</a>
  
    <li><a href="./Profile.html">Profile</a>
  
    <li><a href="./ProfileController.html">ProfileController</a>
  
    <li><a href="./Prompt.html">Prompt</a>
  
    <li><a href="./PromptMeme.html">PromptMeme</a>
  
    <li><a href="./PromptRestriction.html">PromptRestriction</a>
  
    <li><a href="./PromptRestrictionsHelper.html">PromptRestrictionsHelper</a>
  
    <li><a href="./PromptsController.html">PromptsController</a>
  
    <li><a href="./Pseud.html">Pseud</a>
  
    <li><a href="./PseudSweeper.html">PseudSweeper</a>
  
    <li><a href="./PseudsController.html">PseudsController</a>
  
    <li><a href="./PseudsHelper.html">PseudsHelper</a>
  
    <li><a href="./Rating.html">Rating</a>
  
    <li><a href="./Reading.html">Reading</a>
  
    <li><a href="./ReadingsController.html">ReadingsController</a>
  
    <li><a href="./RedirectController.html">RedirectController</a>
  
    <li><a href="./RedisMailQueue.html">RedisMailQueue</a>
  
    <li><a href="./RelatedWork.html">RelatedWork</a>
  
    <li><a href="./RelatedWorksController.html">RelatedWorksController</a>
  
    <li><a href="./Relationship.html">Relationship</a>
  
    <li><a href="./RelationshipNomination.html">RelationshipNomination</a>
  
    <li><a href="./Request.html">Request</a>
  
    <li><a href="./Role.html">Role</a>
  
    <li><a href="./RolesUser.html">RolesUser</a>
  
    <li><a href="./SearchController.html">SearchController</a>
  
    <li><a href="./SearchHelper.html">SearchHelper</a>
  
    <li><a href="./SerialWork.html">SerialWork</a>
  
    <li><a href="./SerialWorksController.html">SerialWorksController</a>
  
    <li><a href="./Series.html">Series</a>
  
    <li><a href="./SeriesController.html">SeriesController</a>
  
    <li><a href="./SeriesHelper.html">SeriesHelper</a>
  
    <li><a href="./SetTagging.html">SetTagging</a>
  
    <li><a href="./Skin.html">Skin</a>
  
    <li><a href="./SkinParent.html">SkinParent</a>
  
    <li><a href="./SkinsController.html">SkinsController</a>
  
    <li><a href="./SkinsHelper.html">SkinsHelper</a>
  
    <li><a href="./StatCounter.html">StatCounter</a>
  
    <li><a href="./StaticSweeper.html">StaticSweeper</a>
  
    <li><a href="./StatsController.html">StatsController</a>
  
    <li><a href="./StatsHelper.html">StatsHelper</a>
  
    <li><a href="./Subscription.html">Subscription</a>
  
    <li><a href="./SubscriptionsController.html">SubscriptionsController</a>
  
    <li><a href="./Tag.html">Tag</a>
  
    <li><a href="./TagNomination.html">TagNomination</a>
  
    <li><a href="./TagNominationsController.html">TagNominationsController</a>
  
    <li><a href="./TagSet.html">TagSet</a>
  
    <li><a href="./TagSetAssociation.html">TagSetAssociation</a>
  
    <li><a href="./TagSetAssociationsController.html">TagSetAssociationsController</a>
  
    <li><a href="./TagSetNomination.html">TagSetNomination</a>
  
    <li><a href="./TagSetNominationsController.html">TagSetNominationsController</a>
  
    <li><a href="./TagSetOwnership.html">TagSetOwnership</a>
  
    <li><a href="./TagSetSweeper.html">TagSetSweeper</a>
  
    <li><a href="./TagSetsHelper.html">TagSetsHelper</a>
  
    <li><a href="./TagSweeper.html">TagSweeper</a>
  
    <li><a href="./TagWranglersController.html">TagWranglersController</a>
  
    <li><a href="./TagWranglingsController.html">TagWranglingsController</a>
  
    <li><a href="./Tagging.html">Tagging</a>
  
    <li><a href="./TagsController.html">TagsController</a>
  
    <li><a href="./TagsHelper.html">TagsHelper</a>
  
    <li><a href="./TranslationHelper.html">TranslationHelper</a>
  
    <li><a href="./TranslationNote.html">TranslationNote</a>
  
    <li><a href="./TranslationNotesController.html">TranslationNotesController</a>
  
    <li><a href="./TranslationsController.html">TranslationsController</a>
  
    <li><a href="./TranslatorsController.html">TranslatorsController</a>
  
    <li><a href="./UnsortedTag.html">UnsortedTag</a>
  
    <li><a href="./UnsortedTagsController.html">UnsortedTagsController</a>
  
    <li><a href="./UrlActiveValidator.html">UrlActiveValidator</a>
  
    <li><a href="./UrlFormatValidator.html">UrlFormatValidator</a>
  
    <li><a href="./User.html">User</a>
  
    <li><a href="./UserInviteRequest.html">UserInviteRequest</a>
  
    <li><a href="./UserInviteRequestsController.html">UserInviteRequestsController</a>
  
    <li><a href="./UserInviteRequestsHelper.html">UserInviteRequestsHelper</a>
  
    <li><a href="./UserMailer.html">UserMailer</a>
  
    <li><a href="./UserSession.html">UserSession</a>
  
    <li><a href="./UserSessionsController.html">UserSessionsController</a>
  
    <li><a href="./UsersController.html">UsersController</a>
  
    <li><a href="./UsersHelper.html">UsersHelper</a>
  
    <li><a href="./ValidationHelper.html">ValidationHelper</a>
  
    <li><a href="./Warning.html">Warning</a>
  
    <li><a href="./WeightedRandom.html">WeightedRandom</a>
  
    <li><a href="./Work.html">Work</a>
  
    <li><a href="./WorkLink.html">WorkLink</a>
  
    <li><a href="./WorkLinksController.html">WorkLinksController</a>
  
    <li><a href="./WorkObserver.html">WorkObserver</a>
  
    <li><a href="./WorkSkin.html">WorkSkin</a>
  
    <li><a href="./WorkSweeper.html">WorkSweeper</a>
  
    <li><a href="./WorksController.html">WorksController</a>
  
    <li><a href="./WorksHelper.html">WorksHelper</a>
  
    <li><a href="./WranglingAssignment.html">WranglingAssignment</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module BookmarksHelper</h1>

  <div id="description" class="description">
    
  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-bookmark_form_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bookmark_form_path</span><span
            class="method-args">(bookmark, bookmarkable)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="bookmark_form_path-source">
            <pre><span class="ruby-comment"># File app/helpers/bookmarks_helper.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bookmark_form_path</span>(<span class="ruby-identifier">bookmark</span>, <span class="ruby-identifier">bookmarkable</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">bookmark</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">bookmark</span>.<span class="ruby-identifier">new_record?</span> 
    <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">bookmarkable</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Work&quot;</span>
      <span class="ruby-identifier">work_bookmarks_path</span>(<span class="ruby-identifier">bookmarkable</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;ExternalWork&quot;</span>
      <span class="ruby-identifier">bookmarks_path</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Series&quot;</span>
      <span class="ruby-identifier">series_bookmarks_path</span>(<span class="ruby-identifier">bookmarkable</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">bookmark</span>
    <span class="ruby-identifier">bookmark_path</span>(<span class="ruby-identifier">bookmark</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- bookmark_form_path-source -->
          
        </div>

        

        
      </div><!-- bookmark_form_path-method -->

    
      <div id="method-i-bookmark_if_exists" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bookmark_if_exists</span><span
            class="method-args">(bookmarkable)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>if the current user has the current object bookmarked return the existing
bookmark since the user may have multiple bookmarks for different pseuds we
prioritize by current default pseud if more than one bookmark exists</p>
          

          
          <div class="method-source-code" id="bookmark_if_exists-source">
            <pre><span class="ruby-comment"># File app/helpers/bookmarks_helper.rb, line 5</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bookmark_if_exists</span>(<span class="ruby-identifier">bookmarkable</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">logged_in?</span>
  <span class="ruby-identifier">bookmarkable</span> = <span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">work</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Chapter</span>
  <span class="ruby-identifier">bookmarks</span> = <span class="ruby-constant">Bookmark</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:bookmarkable_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:bookmarkable_type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value">:pseud_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">pseuds</span>.<span class="ruby-identifier">collect</span>(&amp;<span class="ruby-value">:id</span>))
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">bookmarks</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">bookmarks</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value">:pseud_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">default_pseud</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">bookmarks</span>.<span class="ruby-identifier">last</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">bookmarks</span>.<span class="ruby-identifier">last</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- bookmark_if_exists-source -->
          
        </div>

        

        
      </div><!-- bookmark_if_exists-method -->

    
      <div id="method-i-bookmark_link" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">bookmark_link</span><span
            class="method-args">(bookmarkable, blurb=false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Link to bookmark</p>
          

          
          <div class="method-source-code" id="bookmark_link-source">
            <pre><span class="ruby-comment"># File app/helpers/bookmarks_helper.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">bookmark_link</span>(<span class="ruby-identifier">bookmarkable</span>, <span class="ruby-identifier">blurb</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">logged_in?</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-identifier">get_bookmark_path</span>(<span class="ruby-identifier">bookmarkable</span>)
  <span class="ruby-identifier">text</span> = <span class="ruby-identifier">get_bookmark_link_text</span>(<span class="ruby-identifier">bookmarkable</span>, <span class="ruby-identifier">blurb</span>)
  <span class="ruby-identifier">link_to</span> <span class="ruby-identifier">text</span>, <span class="ruby-identifier">url</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- bookmark_link-source -->
          
        </div>

        

        
      </div><!-- bookmark_link-method -->

    
      <div id="method-i-get_bookmark_link_text" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_bookmark_link_text</span><span
            class="method-args">(bookmarkable, blurb=false)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_bookmark_link_text-source">
            <pre><span class="ruby-comment"># File app/helpers/bookmarks_helper.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_bookmark_link_text</span>(<span class="ruby-identifier">bookmarkable</span>, <span class="ruby-identifier">blurb</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-ivar">@bookmark</span> = <span class="ruby-identifier">bookmark_if_exists</span>(<span class="ruby-identifier">bookmarkable</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">when</span> <span class="ruby-identifier">blurb</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
    <span class="ruby-ivar">@bookmark</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Saved&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Save&quot;</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Series&quot;</span>
    <span class="ruby-ivar">@bookmark</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Edit Series Bookmark&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Bookmark Series&quot;</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;ExternalWork&quot;</span>
    <span class="ruby-ivar">@bookmark</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Edit Bookmark&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Add A New Bookmark&quot;</span>)    
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@bookmark</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Edit Bookmark&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">ts</span>(<span class="ruby-string">&quot;Bookmark&quot;</span>)      
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_bookmark_link_text-source -->
          
        </div>

        

        
      </div><!-- get_bookmark_link_text-method -->

    
      <div id="method-i-get_new_bookmark_path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_new_bookmark_path</span><span
            class="method-args">(bookmarkable)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>returns just a url to the new bookmark form</p>
          

          
          <div class="method-source-code" id="get_new_bookmark_path-source">
            <pre><span class="ruby-comment"># File app/helpers/bookmarks_helper.rb, line 17</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_new_bookmark_path</span>(<span class="ruby-identifier">bookmarkable</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">case</span> <span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Chapter&quot;</span>
    <span class="ruby-identifier">new_work_bookmark_path</span>(<span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">work</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Work&quot;</span>    
    <span class="ruby-identifier">new_work_bookmark_path</span>(<span class="ruby-identifier">bookmarkable</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;ExternalWork&quot;</span>
    <span class="ruby-identifier">new_external_work_bookmark_path</span>(<span class="ruby-identifier">bookmarkable</span>)
  <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Series&quot;</span>
    <span class="ruby-identifier">new_series_bookmark_path</span>(<span class="ruby-identifier">bookmarkable</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_new_bookmark_path-source -->
          
        </div>

        

        
      </div><!-- get_new_bookmark_path-method -->

    
      <div id="method-i-get_symbol_for_bookmark" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_symbol_for_bookmark</span><span
            class="method-args">(bookmark)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>returns the appropriate small single icon for a bookmark – not hardcoded,
these are in css so they are skinnable</p>
          

          
          <div class="method-source-code" id="get_symbol_for_bookmark-source">
            <pre><span class="ruby-comment"># File app/helpers/bookmarks_helper.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_symbol_for_bookmark</span>(<span class="ruby-identifier">bookmark</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">bookmark</span>.<span class="ruby-identifier">private?</span>
    <span class="ruby-identifier">css_class</span> = <span class="ruby-string">&quot;private&quot;</span>
    <span class="ruby-identifier">title_string</span> = <span class="ruby-string">&quot;Private Bookmark&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">bookmark</span>.<span class="ruby-identifier">hidden_by_admin?</span>
    <span class="ruby-identifier">css_class</span> = <span class="ruby-string">&quot;hidden&quot;</span>
    <span class="ruby-identifier">title_string</span> = <span class="ruby-string">&quot;Bookmark Hidden by Admin&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">bookmark</span>.<span class="ruby-identifier">rec?</span>
    <span class="ruby-identifier">css_class</span> = <span class="ruby-string">&quot;rec&quot;</span>
    <span class="ruby-identifier">title_string</span> = <span class="ruby-string">&quot;Rec&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">css_class</span> = <span class="ruby-string">&quot;public&quot;</span>
    <span class="ruby-identifier">title_string</span> = <span class="ruby-string">&quot;Public Bookmark&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">link_to_help</span>(<span class="ruby-string">'bookmark-symbols-key'</span>, <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:span</span>, <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:span</span>, <span class="ruby-identifier">title_string</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;text&quot;</span>), <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">css_class</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">title_string</span>))
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_symbol_for_bookmark-source -->
          
        </div>

        

        
      </div><!-- get_symbol_for_bookmark-method -->

    
      <div id="method-i-link_to_bookmarkable_bookmarks" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link_to_bookmarkable_bookmarks</span><span
            class="method-args">(bookmarkable, link_text='')</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="link_to_bookmarkable_bookmarks-source">
            <pre><span class="ruby-comment"># File app/helpers/bookmarks_helper.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_bookmarkable_bookmarks</span>(<span class="ruby-identifier">bookmarkable</span>, <span class="ruby-identifier">link_text</span>=<span class="ruby-string">''</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">link_text</span>.<span class="ruby-identifier">blank?</span> 
    <span class="ruby-identifier">link_text</span> = <span class="ruby-constant">Bookmark</span>.<span class="ruby-identifier">count_visible_bookmarks</span>(<span class="ruby-identifier">bookmarkable</span>, <span class="ruby-identifier">current_user</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>
         <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Work&quot;</span>
           <span class="ruby-keyword">then</span> <span class="ruby-identifier">work_bookmarks_path</span>(<span class="ruby-identifier">bookmarkable</span>)
         <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;ExternalWork&quot;</span>
           <span class="ruby-keyword">then</span> <span class="ruby-identifier">external_work_bookmarks_path</span>(<span class="ruby-identifier">bookmarkable</span>) 
         <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Series&quot;</span>
           <span class="ruby-keyword">then</span> <span class="ruby-identifier">series_bookmarks_path</span>(<span class="ruby-identifier">bookmarkable</span>)
         <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">link_to</span> <span class="ruby-identifier">link_text</span>, <span class="ruby-identifier">path</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- link_to_bookmarkable_bookmarks-source -->
          
        </div>

        

        
      </div><!-- link_to_bookmarkable_bookmarks-method -->

    
      <div id="method-i-link_to_tag_bookmarks" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link_to_tag_bookmarks</span><span
            class="method-args">(tag)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>tag_bookmarks_path was behaving badly for tags with slashes</p>
          

          
          <div class="method-source-code" id="link_to_tag_bookmarks-source">
            <pre><span class="ruby-comment"># File app/helpers/bookmarks_helper.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_tag_bookmarks</span>(<span class="ruby-identifier">tag</span>)
  {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'bookmarks'</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'index'</span>, <span class="ruby-value">:tag_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tag</span>}
<span class="ruby-keyword">end</span></pre>
          </div><!-- link_to_tag_bookmarks-source -->
          
        </div>

        

        
      </div><!-- link_to_tag_bookmarks-method -->

    
      <div id="method-i-link_to_user_bookmarkable_bookmarks" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link_to_user_bookmarkable_bookmarks</span><span
            class="method-args">(bookmarkable)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="link_to_user_bookmarkable_bookmarks-source">
            <pre><span class="ruby-comment"># File app/helpers/bookmarks_helper.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link_to_user_bookmarkable_bookmarks</span>(<span class="ruby-identifier">bookmarkable</span>)
  <span class="ruby-identifier">id_symbol</span> = (<span class="ruby-identifier">bookmarkable</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">underscore</span> <span class="ruby-operator">+</span> <span class="ruby-string">'_id'</span>).<span class="ruby-identifier">to_sym</span>
  <span class="ruby-identifier">link_to</span> <span class="ruby-string">&quot;You have saved multiple bookmarks for this item&quot;</span>, {<span class="ruby-value">:controller</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:bookmarks</span>, <span class="ruby-value">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:index</span>, <span class="ruby-identifier">id_symbol</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bookmarkable</span>, <span class="ruby-value">:existing</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>}
<span class="ruby-keyword">end</span></pre>
          </div><!-- link_to_user_bookmarkable_bookmarks-source -->
          
        </div>

        

        
      </div><!-- link_to_user_bookmarkable_bookmarks-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>


<!--Descriptive page name, messages and instructions-->
<h2 class="heading"><%= t(".page_heading", collection_title: @collection.title) %></h2>
<!--/description-->

<!--subnav-->
<!--/subnav-->

<!--main content-->
<% if @challenge.signup_open %>
  <p class="note">
    <%= t(".cant_generate_matches") %>
  </p>
<% elsif @collection.signups.count < 2 %>
  <p class="note">
    <%= t(".need_two_people") %>
  </p>
<% elsif @in_progress %>
  <%= render "in_progress"%>
<% elsif @assignment_in_progress %>
  <h3><%= t(".assignments_generating.heading") %> <%= link_to_help "challenge-matching" %></h3>
  <p class="note">
    <%= t(".assignments_generating.in_the_process") %>
  </p>
<% elsif @no_potential_matches_found %>
  <h3><%= t(".no_potential_matches.heading") %> <%= link_to_help "challenge-matching" %></h3>

  <p class="note">
    <%= t(".no_potential_matches.no_matches_found") %>
  </p>

  <p>
    <%= t(".no_potential_matches.please_try_again_html", match_settings_link: link_to(t(".no_potential_matches.match_settings"), edit_collection_gift_exchange_path(@collection, anchor: "match_settings"))) %>
  </p>

<% elsif @collection.potential_matches.empty? %>
  <h3><%= t(".no_matches_yet.heading") %> <%= link_to_help "challenge-matching" %></h3>

  <%= render "match_navigation" %>
  <p class="note">
    <%= t(".no_matches_yet.no_matches_yet") %>
  </p>

  <% if !@settings || @settings.no_match_required? %>
    <%= render "no_match_required" %>
  <% end %>
  
  <% if @invalid_signups %>
    <%= render "invalid_signups" %>
  <% end %>

<% else %>
  <% # we have potential matches! %>
  <%= render "potential_matches/potential_matches" %>
  
<% end %>
<!--/content-->
